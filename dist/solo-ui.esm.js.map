{"version":3,"file":"solo-ui.esm.js","sources":["../node_modules/style-inject/dist/style-inject.es.js","../src/utils/merge/index.ts","../src/components/appbar/index.tsx","../node_modules/babel-plugin-transform-async-to-promises/helpers.js","../src/components/avatar/colors.ts","../src/hooks/use-foreground/index.ts","../src/components/avatar/index.tsx","../src/components/backdrop/index.tsx","../src/hooks/use-delay-boolean/index.ts","../src/components/portal/index.ts","../src/components/bottom-sheet/index.tsx","../src/components/spinner/index.tsx","../src/components/button/index.tsx","../src/components/card/index.tsx","../src/hooks/use-alpha/index.ts","../src/components/icon/index.tsx","../src/components/checkbox/index.tsx","../src/components/content/index.tsx","../src/components/dialog/index.tsx","../src/components/divider/index.tsx","../src/utils/drag-handler/index.ts","../src/hooks/use-drag-handler/index.ts","../src/components/drag-scroll/index.tsx","../src/components/drawer/index.tsx","../src/utils/file-accepted/index.ts","../src/components/drop-files/index.tsx","../src/components/fab/index.tsx","../src/components/form/index.tsx","../src/utils/error/index.ts","../src/utils/is-email/index.ts","../src/components/input-base/index.tsx","../src/components/input-email/index.tsx","../src/components/input-text/index.tsx","../src/components/input-password/index.tsx","../src/components/input-number/index.tsx","../src/components/input/index.tsx","../src/components/label/index.tsx","../src/components/list/index.tsx","../src/components/list-item/index.tsx","../src/components/menu-bar/index.tsx","../src/components/menu-bar-item/index.tsx","../src/components/option/index.tsx","../src/components/progress/index.tsx","../src/components/section/index.tsx","../src/components/select/index.tsx","../src/components/sortable-container/context.ts","../src/components/sortable-container/index.tsx","../src/components/sortable-item/get-absolute-height.ts","../src/components/sortable-item/get-absolute-width.ts","../src/components/sortable-item/get-insert-point-x.ts","../src/components/sortable-item/get-insert-point-y.ts","../src/components/sortable-item/get-offset.ts","../src/components/sortable-item/index.tsx","../src/components/subheader/index.tsx","../src/components/switch/index.tsx","../src/components/tab/index.tsx","../src/components/tabs/index.tsx","../src/components/textarea/index.tsx","../src/components/toast/toast-entry.tsx","../src/components/toast/index.tsx","../src/components/transition/index.tsx","../src/hooks/use-styles/index.ts","../src/widgets/markdown-content/index.tsx","../src/hooks/use-log/index.ts","../src/hooks/use-pluralize/index.ts","../src/hooks/use-rainbow/index.ts","../src/hooks/use-scroll-listener/index.ts","../src/hooks/use-theme/index.ts","../src/hooks/use-title/index.ts","../src/hooks/use-window-resize/index.ts","../src/utils/choose-files/index.ts","../src/utils/download/index.ts","../src/utils/wait/index.ts"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import isString from 'lodash.isstring';\nimport isObject from 'lodash.isobject';\n\n/**\n * Merge strings into single string with conditional inclusion. Useful for className strings \n * \n * merge('foo', 'bar') => 'foo bar';\n * merge('foo', {'bar': false}) => 'foo';\n */\nexport function merge(...args: Array<string | { [prop: string]: boolean | undefined } | undefined>) {\n\n    const out = args.reduce((arr: string[], arg = '') => {\n\n        // multiple classes\n        if (isString(arg)) {\n            const clean = arg.split(' ').filter(val => val !== '');\n            return [...arr, ...clean];\n        }\n\n        // toggle classes => only append if evaluates to true\n        if (isObject(arg)) {\n            const keys = Object.keys(arg);\n            const clean = keys.filter(key => {\n                return arg[key];\n            });\n            return [...arr, ...clean];\n        }\n\n        return arr;\n\n    }, []);\n\n    return out.join(' ');\n\n}","import React from \"react\";\n\nimport { SuperFC } from \"../../generic\";\nimport { merge } from \"../../utils/merge\";\n\nimport \"./styles.css\";\n\ninterface Props {\n    shadow?: boolean;\n}\n/**\n * A basic top of screen app bar with dynamic shadow.\n */\nexport const Appbar: SuperFC<Props> = ({ className, shadow, children, ...props }) => {\n    return (\n        <header className={merge(\"ui-appbar\", { \"ui-appbar--shadow\": shadow }, className)} {...props}>\n            <div className=\"ui-appbar__content\">{children}</div>\n        </header>\n    );\n};\n","// A type of promise-like that resolves synchronously and supports only one observer\nexport const _Pact = /*#__PURE__*/(function() {\n\tfunction _Pact() {}\n\t_Pact.prototype.then = function(onFulfilled, onRejected) {\n\t\tconst result = new _Pact();\n\t\tconst state = this.s;\n\t\tif (state) {\n\t\t\tconst callback = state & 1 ? onFulfilled : onRejected;\n\t\t\tif (callback) {\n\t\t\t\ttry {\n\t\t\t\t\t_settle(result, 1, callback(this.v));\n\t\t\t\t} catch (e) {\n\t\t\t\t\t_settle(result, 2, e);\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t} else {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t}\n\t\tthis.o = function(_this) {\n\t\t\ttry {\n\t\t\t\tconst value = _this.v;\n\t\t\t\tif (_this.s & 1) {\n\t\t\t\t\t_settle(result, 1, onFulfilled ? onFulfilled(value) : value);\n\t\t\t\t} else if (onRejected) {\n\t\t\t\t\t_settle(result, 1, onRejected(value));\n\t\t\t\t} else {\n\t\t\t\t\t_settle(result, 2, value);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(result, 2, e);\n\t\t\t}\n\t\t};\n\t\treturn result;\n\t}\n\treturn _Pact;\n})();\n\n// Settles a pact synchronously\nexport function _settle(pact, state, value) {\n\tif (!pact.s) {\n\t\tif (value instanceof _Pact) {\n\t\t\tif (value.s) {\n\t\t\t\tif (state & 1) {\n\t\t\t\t\tstate = value.s;\n\t\t\t\t}\n\t\t\t\tvalue = value.v;\n\t\t\t} else {\n\t\t\t\tvalue.o = _settle.bind(null, pact, state);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tif (value && value.then) {\n\t\t\tvalue.then(_settle.bind(null, pact, state), _settle.bind(null, pact, 2));\n\t\t\treturn;\n\t\t}\n\t\tpact.s = state;\n\t\tpact.v = value;\n\t\tconst observer = pact.o;\n\t\tif (observer) {\n\t\t\tobserver(pact);\n\t\t}\n\t}\n}\n\nexport function _isSettledPact(thenable) {\n\treturn thenable instanceof _Pact && thenable.s & 1;\n}\n\n// Converts argument to a function that always returns a Promise\nexport function _async(f) {\n\treturn function() {\n\t\tfor (var args = [], i = 0; i < arguments.length; i++) {\n\t\t\targs[i] = arguments[i];\n\t\t}\n\t\ttry {\n\t\t\treturn Promise.resolve(f.apply(this, args));\n\t\t} catch(e) {\n\t\t\treturn Promise.reject(e);\n\t\t}\n\t}\n}\n\n// Awaits on a value that may or may not be a Promise (equivalent to the await keyword in ES2015, with continuations passed explicitly)\nexport function _await(value, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(value) : value;\n\t}\n\tif (!value || !value.then) {\n\t\tvalue = Promise.resolve(value);\n\t}\n\treturn then ? value.then(then) : value;\n}\n\n// Awaits on a value that may or may not be a Promise, then ignores it\nexport function _awaitIgnored(value, direct) {\n\tif (!direct) {\n\t\treturn value && value.then ? value.then(_empty) : Promise.resolve();\n\t}\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continue(value, then) {\n\treturn value && value.then ? value.then(then) : then(value);\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continueIgnored(value) {\n\tif (value && value.then) {\n\t\treturn value.then(_empty);\n\t}\n}\n\n// Asynchronously iterate through an object that has a length property, passing the index as the first argument to the callback (even as the length property changes)\nexport function _forTo(array, body, check) {\n\tvar i = -1, pact, reject;\n\tfunction _cycle(result) {\n\t\ttry {\n\t\t\twhile (++i < array.length && (!check || !check())) {\n\t\t\t\tresult = body(i);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (pact) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t} else {\n\t\t\t\tpact = result;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t}\n\t}\n\t_cycle();\n\treturn pact;\n}\n\n// Asynchronously iterate through an object's properties (including properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forIn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tkeys.push(key);\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\n// Asynchronously iterate through an object's own properties (excluding properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forOwn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tif (Object.prototype.hasOwnProperty.call(target, key)) {\n\t\t\tkeys.push(key);\n\t\t}\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\nexport const _iteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.iterator || (Symbol.iterator = Symbol(\"Symbol.iterator\"))) : \"@@iterator\";\n\n// Asynchronously iterate through an object's values\n// Uses for...of if the runtime supports it, otherwise iterates until length on a copy\nexport function _forOf(target, body, check) {\n\tif (typeof target[_iteratorSymbol] === \"function\") {\n\t\tvar iterator = target[_iteratorSymbol](), step, pact, reject;\n\t\tfunction _cycle(result) {\n\t\t\ttry {\n\t\t\t\twhile (!(step = iterator.next()).done && (!check || !check())) {\n\t\t\t\t\tresult = body(step.value);\n\t\t\t\t\tif (result && result.then) {\n\t\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (pact) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t} else {\n\t\t\t\t\tpact = result;\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t\t}\n\t\t}\n\t\t_cycle();\n\t\tif (iterator.return) {\n\t\t\tvar _fixup = function(value) {\n\t\t\t\ttry {\n\t\t\t\t\tif (!step.done) {\n\t\t\t\t\t\titerator.return();\n\t\t\t\t\t}\n\t\t\t\t} catch(e) {\n\t\t\t\t}\n\t\t\t\treturn value;\n\t\t\t}\n\t\t\tif (pact && pact.then) {\n\t\t\t\treturn pact.then(_fixup, function(e) {\n\t\t\t\t\tthrow _fixup(e);\n\t\t\t\t});\n\t\t\t}\n\t\t\t_fixup();\n\t\t}\n\t\treturn pact;\n\t}\n\t// No support for Symbol.iterator\n\tif (!(\"length\" in target)) {\n\t\tthrow new TypeError(\"Object is not iterable\");\n\t}\n\t// Handle live collections properly\n\tvar values = [];\n\tfor (var i = 0; i < target.length; i++) {\n\t\tvalues.push(target[i]);\n\t}\n\treturn _forTo(values, function(i) { return body(values[i]); }, check);\n}\n\nexport const _asyncIteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.asyncIterator || (Symbol.asyncIterator = Symbol(\"Symbol.asyncIterator\"))) : \"@@asyncIterator\";\n\n// Asynchronously iterate on a value using it's async iterator if present, or its synchronous iterator if missing\nexport function _forAwaitOf(target, body, check) {\n\tif (typeof target[_asyncIteratorSymbol] === \"function\") {\n\t\tvar pact = new _Pact();\n\t\tvar iterator = target[_asyncIteratorSymbol]();\n\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\treturn pact;\n\t\tfunction _resumeAfterBody(result) {\n\t\t\tif (check && check()) {\n\t\t\t\treturn _settle(pact, 1, iterator.return ? iterator.return().then(function() { return result; }) : result);\n\t\t\t}\n\t\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\t}\n\t\tfunction _resumeAfterNext(step) {\n\t\t\tif (step.done) {\n\t\t\t\t_settle(pact, 1);\n\t\t\t} else {\n\t\t\t\tPromise.resolve(body(step.value)).then(_resumeAfterBody).then(void 0, _reject);\n\t\t\t}\n\t\t}\n\t\tfunction _reject(error) {\n\t\t\t_settle(pact, 2, iterator.return ? iterator.return().then(function() { return error; }) : error);\n\t\t}\n\t}\n\treturn Promise.resolve(_forOf(target, function(value) { return Promise.resolve(value).then(body); }, check));\n}\n\n// Asynchronously implement a generic for loop\nexport function _for(test, update, body) {\n\tvar stage;\n\tfor (;;) {\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t\tif (shouldContinue.then) {\n\t\t\tstage = 0;\n\t\t\tbreak;\n\t\t}\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.s;\n\t\t\t} else {\n\t\t\t\tstage = 1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (update) {\n\t\t\tvar updateValue = update();\n\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\tstage = 2;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tvar pact = new _Pact();\n\tvar reject = _settle.bind(null, pact, 2);\n\t(stage === 0 ? shouldContinue.then(_resumeAfterTest) : stage === 1 ? result.then(_resumeAfterBody) : updateValue.then(_resumeAfterUpdate)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tdo {\n\t\t\tif (update) {\n\t\t\t\tupdateValue = update();\n\t\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\t\tupdateValue.then(_resumeAfterUpdate).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tshouldContinue = test();\n\t\t\tif (!shouldContinue || (_isSettledPact(shouldContinue) && !shouldContinue.v)) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t}\n\t\t} while (!result || !result.then);\n\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterBody(result);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n\tfunction _resumeAfterUpdate() {\n\t\tif (shouldContinue = test()) {\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterTest(shouldContinue);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a do ... while loop\nexport function _do(body, test) {\n\tvar awaitBody;\n\tdo {\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t} else {\n\t\t\t\tawaitBody = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t} while (!shouldContinue.then);\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : shouldContinue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tfor (;;) {\n\t\t\tshouldContinue = test();\n\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t}\n\t\t\tif (!shouldContinue) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\tresult = result.v;\n\t\t\t\t} else {\n\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tdo {\n\t\t\t\tresult = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tshouldContinue = test();\n\t\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t\t}\n\t\t\t\tif (!shouldContinue) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} while (!shouldContinue.then);\n\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a switch statement\nexport function _switch(discriminant, cases) {\n\tvar dispatchIndex = -1;\n\tvar awaitBody;\n\touter: {\n\t\tfor (var i = 0; i < cases.length; i++) {\n\t\t\tvar test = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvar testValue = test();\n\t\t\t\tif (testValue && testValue.then) {\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tif (testValue === discriminant) {\n\t\t\t\t\tdispatchIndex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Found the default case, set it as the pending dispatch case\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tif (dispatchIndex !== -1) {\n\t\t\tdo {\n\t\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\t\twhile (!body) {\n\t\t\t\t\tdispatchIndex++;\n\t\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t\t}\n\t\t\t\tvar result = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tawaitBody = true;\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\t\tdispatchIndex++;\n\t\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t\treturn result;\n\t\t}\n\t}\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : testValue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterTest(value) {\n\t\tfor (;;) {\n\t\t\tif (value === discriminant) {\n\t\t\t\tdispatchIndex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (++i === cases.length) {\n\t\t\t\tif (dispatchIndex !== -1) {\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttest = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvalue = test();\n\t\t\t\tif (value && value.then) {\n\t\t\t\t\tvalue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tdo {\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tvar result = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tdispatchIndex++;\n\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterBody(result) {\n\t\tfor (;;) {\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tif (!fallthroughCheck || fallthroughCheck()) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdispatchIndex++;\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _call(body, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(body()) : body();\n\t}\n\ttry {\n\t\tvar result = Promise.resolve(body());\n\t\treturn then ? result.then(then) : result;\n\t} catch (e) {\n\t\treturn Promise.reject(e);\n\t}\n}\n\n// Asynchronously call a function and swallow the result\nexport function _callIgnored(body, direct) {\n\treturn _call(body, _empty, direct);\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _invoke(body, then) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(then);\n\t}\n\treturn then(result);\n}\n\n// Asynchronously call a function and swallow the result\nexport function _invokeIgnored(body) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(_empty);\n\t}\n}\n\n// Asynchronously call a function and send errors to recovery continuation\nexport function _catch(body, recover) {\n\ttry {\n\t\tvar result = body();\n\t} catch(e) {\n\t\treturn recover(e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(void 0, recover);\n\t}\n\treturn result;\n}\n\n// Asynchronously await a promise and pass the result to a finally continuation\nexport function _finallyRethrows(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer(true, e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer.bind(null, false), finalizer.bind(null, true));\n\t}\n\treturn finalizer(false, result);\n}\n\n// Asynchronously await a promise and invoke a finally continuation that always overrides the result\nexport function _finally(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer();\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer, finalizer);\n\t}\n\treturn finalizer();\n}\n\n// Rethrow or return a value from a finally continuation\nexport function _rethrow(thrown, value) {\n\tif (thrown)\n\t\tthrow value;\n\treturn value;\n}\n\n// Empty function to implement break and other control flow that ignores asynchronous results\nexport function _empty() {\n}\n\n// Sentinel value for early returns in generators \nexport const _earlyReturn = /*#__PURE__*/ {};\n\n// Asynchronously call a function and send errors to recovery continuation, skipping early returns\nexport function _catchInGenerator(body, recover) {\n\treturn _catch(body, function(e) {\n\t\tif (e === _earlyReturn) {\n\t\t\tthrow e;\n\t\t}\n\t\treturn recover(e);\n\t});\n}\n\n// Asynchronous generator class; accepts the entrypoint of the generator, to which it passes itself when the generator should start\nexport const _AsyncGenerator = /*#__PURE__*/(function() {\n\tfunction _AsyncGenerator(entry) {\n\t\tthis._entry = entry;\n\t\tthis._pact = null;\n\t\tthis._resolve = null;\n\t\tthis._return = null;\n\t\tthis._promise = null;\n\t}\n\n\tfunction _wrapReturnedValue(value) {\n\t\treturn { value: value, done: true };\n\t}\n\tfunction _wrapYieldedValue(value) {\n\t\treturn { value: value, done: false };\n\t}\n\n\t_AsyncGenerator.prototype._yield = function(value) {\n\t\t// Yield the value to the pending next call\n\t\tthis._resolve(value && value.then ? value.then(_wrapYieldedValue) : _wrapYieldedValue(value));\n\t\t// Return a pact for an upcoming next/return/throw call\n\t\treturn this._pact = new _Pact();\n\t};\n\t_AsyncGenerator.prototype.next = function(value) {\n\t\t// Advance the generator, starting it if it has yet to be started\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tconst _entry = _this._entry;\n\t\t\t\tif (_entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the next call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Start the generator\n\t\t\t\t_this._entry = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\tfunction returnValue(value) {\n\t\t\t\t\t_this._resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t_this._resolve = null;\n\t\t\t\t}\n\t\t\t\tvar result = _entry(_this);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tresult.then(returnValue, function(error) {\n\t\t\t\t\t\tif (error === _earlyReturn) {\n\t\t\t\t\t\t\treturnValue(_this._return);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst pact = new _Pact();\n\t\t\t\t\t\t\t_this._resolve(pact);\n\t\t\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t\t\t_this._resolve = null;\n\t\t\t\t\t\t\t_resolve(pact, 2, error);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\treturnValue(result);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Generator is started and a yield expression is pending, settle it\n\t\t\t\t_this._pact = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\t_settle(_pact, 1, value);\n\t\t\t}\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.return = function(value) {\n\t\t// Early return from the generator if started, otherwise abandons the generator\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the return call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return the specified value\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t}\n\t\t\t// Settle the yield expression with a rejected \"early return\" value\n\t\t\t_this._return = value;\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, _earlyReturn);\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.throw = function(error) {\n\t\t// Inject an exception into the pending yield expression\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve, reject) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the throw call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return a rejected Promise containing the error\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn reject(error);\n\t\t\t}\n\t\t\t// Settle the yield expression with the value as a rejection\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, error);\n\t\t});\n\t};\n\n\t_AsyncGenerator.prototype[_asyncIteratorSymbol] = function() {\n\t\treturn this;\n\t};\n\t\n\treturn _AsyncGenerator;\n})();\n","export const colors: {[letter: string]: string} = {\n    'A': '#1abc9c',\n    'B': '#2ecc71',\n    'C': '#3498db',\n    'D': '#9b59b6',\n    'E': '#34495e',\n    'F': '#16a085',\n    'G': '#27ae60',\n    'H': '#2980b9',\n    'I': '#8e44ad',\n    'J': '#2c3e50',\n    'K': '#f1c40f',\n    'L': '#e67e22',\n    'M': '#e74c3c',\n    'N': '#ecf0f1',\n    'O': '#95a5a6',\n    'P': '#2ecc71',\n    'Q': '#d35400',\n    'R': '#c0392b',\n    'S': '#bdc3c7',\n    'T': '#7f8c8d',\n    'U': '#f39c12',\n    'V': '#f1c40f',\n    'W': '#16a085',\n    'X': '#2c3e50',\n    'Y': '#27ae60',\n    'Z': '#d35400',\n};","import { useMemo } from \"react\";\nimport Color from \"color\";\n\n/**\n * Hook: returns white on dark colors, black on light;\n */\nexport function useForeground(color: string) {\n    return useMemo(() => Color(color).isDark() ? '#ffffff' : '#000000', [color]);\n}","import React, { FC, useState, useEffect } from 'react';\n\nimport { colors } from './colors';\nimport { merge } from '../../utils/merge';\nimport { useForeground } from '../../hooks/use-foreground';\n\nimport './styles.css';\n\ninterface Props {\n    id?: string;\n    className?: string;\n    style?: React.CSSProperties;\n\n    src?: string;\n    name: string;\n    size: number;\n}\n\n/**\n * Avatar component. Displays image else falls back to GMail style colored circle and letter.\n */\nexport const Avatar: FC<Props> = ({ id, className, style, src, name, size }) => {\n\n    const letter = name.slice(0, 1).toUpperCase();\n    const background = colors[letter] || 'rgb(200,200,200)';\n    const foreground = useForeground(background);\n\n    const [isImageValid, setIsImageValid] = useState(false);\n\n    useEffect(() => {\n        let didCancel = false;\n\n        async function checkImageExists(src: string) {\n            setIsImageValid(false);\n            try {\n                await fetch(src, { mode: 'no-cors' });\n                if (!didCancel) {\n                    setIsImageValid(true);\n                }\n            } catch {\n                // no catch as isImageValid is already false;\n            }\n        }\n\n        if (src) {\n            checkImageExists(src);\n        }\n\n        return () => { didCancel = true };\n    }, [src]);\n\n    return <div\n        id={id}\n        className={merge('ui-avatar', className)}\n        style={{\n            height: size,\n            width: size,\n            fontSize: size * .6,\n            color: foreground,\n            backgroundColor: background,\n            backgroundImage: isImageValid ? `url(${src})` : undefined,\n            ...style\n        }}\n    >\n        {!isImageValid && <span className=\"ui-avatar__letter\">{letter}</span>}\n    </div>\n\n}\n\n","import React, { CSSProperties } from \"react\";\n\nimport { merge } from \"../../utils/merge\";\n\nimport \"./styles.css\";\n\ninterface Props {\n    id?: string;\n    className?: string;\n    style?: CSSProperties;\n\n    open: boolean;\n    transparent?: boolean;\n    onClick?: () => void;\n}\n\n/**\n * Backdrop component used for overlays (dialogs, sheets etc.)\n */\nexport const Backdrop: React.FC<Props> = ({ id, className, open, transparent, onClick }) => {\n    return (\n        <div\n            id={id}\n            className={merge(\"ui-backdrop\", className, {\n                \"ui-backdrop--hidden\": !open,\n                \"ui-backdrop--transparent\": transparent\n            })}\n            onClick={onClick}\n        />\n    );\n};\n","import { useState, useEffect } from \"react\";\n\n/**\n * Hook: Delay a boolean change by a fixed time (used to delay an overlay destruction after hidden)\n */\nexport function useDelayBoolean(master: boolean, delay: number) {\n    const [slave, setSlave] = useState(false);\n    \n    useEffect(() => {\n        let timeout: any;\n        if (master) {\n            setSlave(true);\n        } else {\n            timeout = setTimeout(() => setSlave(false), delay);\n        }\n        return () => {\n            if (timeout) {\n                clearTimeout(timeout);\n            }\n        }\n    }, [master, delay]);\n\n    return slave;\n}","import { useEffect, useState, FC } from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './styles.css';\n\n/**\n * Create a portal. Useful to contain dialogs, overlays etc.\n */\nexport const Portal: FC = ({ children }) => {\n\n    const [container, setContainer] = useState<HTMLDivElement>();\n\n    useEffect(() => {\n\n        const $container = document.createElement('div');\n        $container.className = 'ui-portal';\n        document.body.appendChild($container);\n        setContainer($container);\n\n        return () => {\n            $container.remove();\n        }\n\n    }, []);\n\n    if (container) {\n        return ReactDOM.createPortal(children, container);\n    } else {\n        return null;\n    }\n}","import React, { CSSProperties, FC, ReactNode } from 'react';\n\nimport { useDelayBoolean } from '../../hooks/use-delay-boolean';\nimport { merge } from '../../utils/merge';\nimport { Portal } from '../portal';\nimport { Backdrop } from '../backdrop';\n\nimport './styles.css';\n\ninterface Props {\n    id?: string;\n    className?: string;\n    style?: CSSProperties;\n\n    width: number;\n\n    open: boolean;\n    onClose: () => void;\n    children: () => ReactNode;\n}\n\n/**\n * Bottom Sheet component for displaying contexual actions.\n */\nexport const BottomSheet: FC<Props> = ({ id, className, style, width, open, onClose, children }) => {\n\n    const render = useDelayBoolean(open, 500);\n\n    return <Portal>\n        <Backdrop open={open} onClick={onClose} />\n        <div\n            id={id}\n            className={merge(\"ui-bottom-sheet\", className)}\n            style={{\n                maxWidth: width,\n                maxHeight: '100vh', // TO DO expanded state uses this\n                overflow: 'auto',\n                transform: open ? 'translate(-50%, -100%)' : 'translate(-50%, 0)',\n                ...style\n            }}\n        >\n            {render && children()}\n        </div>\n    </ Portal>;\n}","import React, { CSSProperties, FC, useMemo } from 'react';\nimport Big from 'big.js';\n\nimport { merge } from '../../utils/merge';\n\nimport './styles.css';\n\ninterface Props {\n    id?: string;\n    className?: string;\n    style?: CSSProperties;\n\n    size: number;\n    color: string;\n    percent?: number;\n}\n\n/**\n * A spinner which can be indeterminate or determinate to denote working states or progress.\n */\nexport const Spinner: FC<Props> = ({ id, className, style, size, color, percent }) => {\n\n    const [dashoffset, dasharray] = useMemo(() => {\n        if (percent !== undefined) {\n            const r = 20;\n            const c = new Big(2 * Math.PI * r); // circumference @ r=20;\n            const _value = new Big(percent).div(100).times(c);\n            return [c.minus(_value).toFixed(2), c.toFixed(2)];\n        } else {\n            return [undefined, undefined];\n        }\n    }, [percent]);\n\n    const animate = percent === undefined;\n\n    return <svg\n        id={id}\n        className={merge(\n            'ui-spinner',\n            { 'ui-spinner--animate': animate },\n            className\n        )}\n        style={{\n            height: size,\n            width: size,\n            ...style\n        }}\n        viewBox=\"25 25 50 50\"\n    >\n        {!animate && <circle\n            className=\"ui-spinner__circle\"\n            cx=\"50\"\n            cy=\"50\"\n            r=\"20\"\n            stroke=\"rgb(175, 175, 175)\"\n        />}\n        <circle\n            className=\"ui-spinner__circle\"\n            cx=\"50\"\n            cy=\"50\"\n            r=\"20\"\n            stroke={color}\n            strokeDasharray={dasharray}\n            strokeDashoffset={dashoffset}\n        />\n    </svg>;\n}","import React, { MouseEvent, CSSProperties, FC, useMemo } from 'react';\n\nimport { merge } from '../../utils/merge';\nimport { useForeground } from '../../hooks/use-foreground';\nimport { Spinner } from '../spinner';\n\nimport './styles.css';\n\ninterface Props {\n    id?: string;\n    className?: string;\n    style?: CSSProperties;\n    color: string;\n\n    compact?: boolean;\n    outline?: boolean;\n    disabled?: boolean;\n    working?: boolean;\n\n    onClick?: (e: MouseEvent<HTMLButtonElement>) => void;\n}\n\n/**\n * Button component with optional outline-only styling.\n */\nexport const Button: FC<Props> = ({ id, className, style, children, compact, outline, color, disabled, working, onClick }) => {\n\n    const bg = useMemo(() => {\n        if (outline) {\n            return 'transparent';\n        } else {\n            return color;\n        }\n    }, [color, outline]);\n\n    const fg = useForeground(bg);\n\n    return <button\n        id={id}\n        className={merge('ui-button', { 'ui-button--compact': compact, 'ui-button--disabled': disabled || working }, className)}\n        style={{ color: outline ? color : fg, backgroundColor: bg, border: `1px solid ${outline ? color : bg}`, ...style }}\n        onClick={onClick}\n    >\n        {working && <Spinner className=\"ui-spinner--button\" size={16} color=\"rgb(84,84,84)\" />}\n        {children}\n    </button>;\n}","import React, { FC, CSSProperties } from 'react';\n\nimport { merge } from '../../utils/merge';\n\nimport './styles.css';\n\ninterface Props {\n    id?: string;\n    className?: string;\n    style?: CSSProperties;\n\n    margin?: boolean;\n    animate?: boolean;\n}\n\n/**\n * Generic card component.\n */\nexport const Card: FC<Props> = ({ id, className, style, children, margin, animate }) => {\n    return <div\n        id={id}\n        className={merge('ui-card', { 'ui-card--margin': margin, 'ui-card--animate': animate }, className)}\n        style={style}\n    >\n        {children}\n    </div>;\n}","import { useMemo } from \"react\";\nimport Color from \"color\";\n\n/**\n * Hook: sets the alpha value of a color.\n */\nexport function useAlpha(color: string, alpha: number) {\n    return useMemo(() => Color(color).alpha(alpha).string(), [color, alpha]);\n}","import React, { MouseEvent, FC, CSSProperties } from 'react';\n\nimport { merge } from '../../utils/merge';\nimport { useAlpha } from '../../hooks/use-alpha';\nimport { useForeground } from '../../hooks/use-foreground';\n\nimport './styles.css';\n\ninterface Props {\n    id?: string;\n    className?: string;\n    style?: CSSProperties;\n\n    path: string;\n    size: number;\n    color: string;\n    highlight?: string;\n    disabled?: boolean;\n    toggle?: boolean;\n\n    onClick?: (e: MouseEvent<HTMLDivElement>) => void;\n}\n\n/**\n * Icon which takes an svg path and renders.\n */\nexport const Icon: FC<Props> = ({ id, className, style, path, size, color, highlight, disabled, toggle, onClick }) => {\n\n    const bg = useAlpha(color, .1);\n    const toggledFG = useForeground(highlight || color);\n\n    return <div\n        id={id}\n        className={merge('ui-icon', { 'ui-icon--disabled': disabled, 'ui-icon--hover': !!onClick }, className)}\n        style={{ width: size, height: size, ...style }}\n        onClick={onClick}\n    >\n        <div className=\"ui-icon__touch-target\" />\n        <svg className=\"ui-icon__svg\" viewBox=\"0 0 24 24\" style={{ width: size, height: size }}>\n            <path d={path} style={{ fill: toggle ? toggledFG : color }} />\n        </svg>\n        <div className={merge(\"ui-icon__blob\", { 'ui-icon__blob--toggle': toggle })} style={{ backgroundColor: toggle ? (highlight || color) : bg }} />\n    </div >\n}","import React, { FC, useCallback, CSSProperties } from 'react';\nimport { mdiCheck } from '@mdi/js';\n\nimport { merge } from '../../utils/merge';\nimport { useForeground } from '../../hooks/use-foreground';\nimport { Icon } from '../icon';\n\nimport './styles.css';\n\ninterface Props {\n    id?: string;\n    className?: string;\n    style?: CSSProperties;\n\n    value: boolean;\n    color: string;\n    margin?: boolean;\n    disabled?: boolean;\n    onChange: (value: boolean) => void;\n}\n\n/**\n * Chackbox component for boolean values.\n */\nexport const Checkbox: FC<Props> = ({ id, className, style, children, value, color, onChange, disabled, margin }) => {\n\n    const onCheckboxChange = useCallback(() => onChange(!value), [value, onChange]);\n    const fg = useForeground(color);\n\n    return <div\n        id={id}\n        className={merge(\n            'ui-checkbox',\n            {\n                'ui-checkbox--active': value,\n                'ui-checkbox--margin': margin,\n                'ui-checkbox--disabled': disabled\n            },\n            className\n        )}\n        style={style}\n        onClick={onCheckboxChange}\n    >\n        <div\n            className=\"ui-checkbox__inner\"\n            style={{\n                marginRight: children ? 20 : 0,\n                borderColor: value ? color : undefined,\n                backgroundColor: value ? color : undefined\n            }}>\n            {value && <Icon size={16} color={fg} className=\"ui-checkbox__icon\" path={mdiCheck} />}\n        </div>\n        {children && <div className=\"ui-checkbox__label\">{children}</div>}\n    </div>;\n}","import React, { FC, CSSProperties } from 'react';\n\nimport { merge } from '../../utils/merge';\n\nimport './styles.css';\n\ninterface Props {\n    id?: string;\n    className?: string;\n    style?: CSSProperties;\n}\n\n/**\n * Content component with default padding.\n */\nexport const Content: FC<Props> = ({ id, className, style, children }) => {\n    return <div\n        id={id}\n        className={merge('ui-content', className)}\n        style={style}\n    >\n        {children}\n    </div>;\n}","import React, { CSSProperties, FC } from \"react\";\n\nimport { merge } from \"../../utils/merge\";\nimport { useDelayBoolean } from \"../../hooks/use-delay-boolean\";\nimport { Portal } from \"../portal\";\nimport { Backdrop } from \"../backdrop\";\nimport { Card } from \"../card\";\n\nimport \"./styles.css\";\n\ninterface Props {\n    id?: string;\n    className?: string;\n    style?: CSSProperties;\n    width?: number;\n    open: boolean;\n}\n\n/**\n * Dialog component for displaying related but long form actions/information.\n */\nexport function Dialog<T>(Content: FC<T>): FC<T & Props> {\n    return ({ width, open, id, className, style, ...props }) => {\n        const render = useDelayBoolean(open, 500);\n\n        if (render) {\n            return (\n                <Portal>\n                    <Backdrop className=\"ui-dialog__backdrop\" open={open} />\n                    <div className={merge(\"ui-dialog\", { \"ui-dialog--hidden\": !open })}>\n                        <Card\n                            id={id}\n                            className={merge(\"ui-dialog__card\", className)}\n                            style={{ maxWidth: width, ...style }}\n                        >\n                            <Content {...(props as T)} />\n                        </Card>\n                    </div>\n                </Portal>\n            );\n        } else {\n            return null;\n        }\n    };\n}\n","import React, { CSSProperties, FC } from 'react';\n\nimport { merge } from '../../utils/merge';\n\nimport './styles.css';\n\ninterface Props {\n    id?: string;\n    className?: string;\n    style?: CSSProperties;\n    compact?: boolean;\n}\n\n/**\n * Simple devider component.\n */\nexport const Divider: FC<Props> = ({ id, className, style, children, compact }) => {\n    return <div\n        id={id}\n        className={merge('ui-divider', { 'ui-divider--compact': compact }, className)}\n        style={style}\n    >\n        {children}\n    </div>;\n}","type DownCallback<T> = (e: React.PointerEvent) => T | false;\ntype OtherCallback<T> = (e: PointerEvent, data: T) => void;\n\nexport interface DragHandlerConfig<T> {\n    onDown: DownCallback<T>;\n    onMove: OtherCallback<T>;\n    onEnd: OtherCallback<T>;\n}\n\n/**\n * Boilerplate for adding pointer move events after an initial pointer down event\n */\nexport function dragHandler<T>({ onDown, onMove, onEnd }: DragHandlerConfig<T>) {\n\n    let pointer: number | undefined = undefined;\n\n    return (e: React.PointerEvent<HTMLElement>) => {\n\n        // only one pointer at a time\n        if (pointer !== undefined) return;\n\n        const data = onDown(e);\n\n        if (data !== false) {\n\n            pointer = e.pointerId;\n\n            const move = (ev: PointerEvent) => {\n                if (pointer !== ev.pointerId) return;\n\n                onMove(ev, data);\n                return false;\n            }\n\n            const stop = (ev: PointerEvent) => {\n                if (pointer !== ev.pointerId) return;\n\n                onEnd(ev, data);\n\n                document.removeEventListener('pointermove', move);\n                document.removeEventListener('pointerup', stop);\n                document.removeEventListener('pointercancel', stop);\n\n                pointer = undefined;\n            };\n\n            document.addEventListener('pointermove', move, { passive: true });\n            document.addEventListener('pointerup', stop, { passive: true });\n            document.addEventListener('pointercancel', stop, { passive: true });\n\n        }\n\n    }\n\n}","import { useCallback } from 'react';\nimport { dragHandler, DragHandlerConfig } from '../../utils/drag-handler';\n\nexport function useDragHandler<T>(config: DragHandlerConfig<T>, deps: any[]) {\n    return useCallback(dragHandler<T>(config), [deps]);\n}","import React, { FC, CSSProperties, useState, useCallback } from 'react';\n\nimport { merge } from '../../utils/merge';\nimport { useDragHandler } from '../../hooks/use-drag-handler';\n\nimport './styles.css';\n\ninterface Props {\n    id?: string;\n    className?: string;\n    style?: CSSProperties;\n\n    x?: boolean;\n    y?: boolean;\n    ignore?: string;\n    ignoreX?: string;\n    ignoreY?: string;\n}\n\nexport const DragScroll: FC<Props> = ({ id, className, style, x, y, ignore, ignoreX, ignoreY, children }) => {\n\n    const [dragging, setDragging] = useState(false);\n\n    const allow = useCallback((target: HTMLElement, ignore?: string) => {\n        if (ignore) {\n            const nodes = document.getElementsByClassName(ignore);\n            for (let i = 0; i < nodes.length; i++) {\n                const node = nodes.item(i);\n                if (node && (node === target || node.contains(target))) {\n                    return false;\n                }\n            }\n            return true;\n        } else {\n            return true;\n        }\n    }, []);\n\n    const onDrag = useDragHandler<{ target: HTMLElement, allowX: boolean, allowY: boolean, x: number, y: number, scrollLeft: number, scrollTop: number }>({\n        onDown: e => {\n\n            if (!allow(e.target as HTMLElement, ignore)) {\n                return false;\n            };\n\n            const allowX = allow(e.target as HTMLElement, ignoreX);\n            const allowY = allow(e.target as HTMLElement, ignoreY);\n\n            setDragging(true);\n\n            return { target: e.currentTarget as HTMLElement, allowX, allowY, x: e.screenX, y: e.screenY, scrollLeft: e.currentTarget.scrollLeft, scrollTop: e.currentTarget.scrollTop };\n\n        },\n        onMove: (e, init) => {\n            if (x && init.allowX) {\n                const diff = e.screenX - init.x;\n                const scrollLeft = init.scrollLeft - diff;\n                const min = 0;\n                const max = init.target.scrollWidth - init.target.offsetWidth;\n                if (scrollLeft < min) {\n                    // if you over scroll, offset the init position so we start scrolling again\n                    // straight away on direction change\n                    init.x = init.x - scrollLeft;\n                } else if (scrollLeft > max) {\n                    init.x = init.x - (scrollLeft - max);\n                }\n                init.target.scrollLeft = scrollLeft; // this is always bound so just keep setting it.\n            }\n            if (y && init.allowY) {\n                const diff = e.screenY - init.y;\n                const scrollTop = init.scrollTop - diff;\n                const min = 0;\n                const max = init.target.scrollHeight - init.target.offsetHeight;\n                if (scrollTop < min) {\n                    // if you over scroll, offset the init position so we start scrolling again\n                    // straight away on direction change\n                    init.y = init.y - scrollTop;\n                } else if (scrollTop > max) {\n                    init.y = init.y - (scrollTop - max);\n                }\n                init.target.scrollTop = scrollTop;\n            }\n        },\n        onEnd: () => {\n            setDragging(false);\n        }\n    }, [x, y, allow, ignore, ignoreX, ignoreY]);\n\n    return <div\n        onPointerDown={onDrag}\n        id={id}\n        className={merge('ui-drag-scroll', { 'ui-drag-scroll-x': x, 'ui-drag-scroll-y': y, 'ui-drag-scroll--dragging': dragging }, className)}\n        style={style}\n    >\n        {children}\n    </div>\n}","import React, { CSSProperties, FC, ReactNode } from 'react';\n\nimport { merge } from '../../utils/merge';\nimport { useDelayBoolean } from '../../hooks/use-delay-boolean';\nimport { Portal } from '../portal';\nimport { Backdrop } from '../backdrop';\n\nimport './styles.css';\n\ninterface Props {\n    id?: string;\n    className?: string;\n    style?: CSSProperties;\n\n    width: number;\n    open: boolean;\n\n    // events may happen that closes/opens from within component\n    onClose: () => void;\n    children: () => ReactNode;\n}\n\n/**\n * App drawer component.\n */\nexport const Drawer: FC<Props> = ({ id, className, style, children, open, width, onClose }) => {\n\n    const render = useDelayBoolean(open, 500);\n\n    return <Portal>\n        <Backdrop open={open} onClick={onClose} />\n        <div\n            id={id}\n            className={merge('ui-drawer', className)}\n            style={{\n                maxWidth: width,\n                transform: `translate3d(${open ? 0 : '-100%'}, 0, 0)`,\n                ...style\n            }}\n        >\n            {render && children()}\n        </div>\n    </Portal>;\n\n}","function stepsMatch(acceptStep: string, typeStep: string) {\n    return acceptStep === '*' || acceptStep === typeStep;\n}\n\nfunction pathsMatch(acceptPath: string[], typePath: string[]): boolean {\n    for (let i = 0; i < acceptPath.length; i++) {\n        const match = stepsMatch(acceptPath[i], typePath[i]);\n        if (!match) {\n            return false;\n        }\n    }\n    return true;\n}\n\n/**\n *  Checks if a file type is accepted. Always return true if no accept param.\n */\nexport function fileAccepted(file: File, accept: string[] = []): boolean {\n    // no accept length implies all accepted\n    if (accept.length === 0) {\n        return true;\n    }\n\n    const typePath = file.type.split('/');\n\n    for (let i = 0; i < accept.length; i++) {\n        const acceptPath = accept[i].split('/');\n        const match = pathsMatch(acceptPath, typePath);\n        if (match) {\n            // return true if any match \n            return true;\n        }\n    }\n\n    return false;\n}","import React, { useCallback, useState, useEffect, CSSProperties, FC } from 'react';\nimport { mdiFileUploadOutline } from '@mdi/js';\n\nimport { fileAccepted } from '../../utils/file-accepted';\nimport { merge } from '../../utils/merge';\nimport { Icon } from '../icon';\n\nimport './styles.css';\n\ninterface Props {\n    id?: string;\n    className?: string;\n    style?: CSSProperties;\n\n    accept?: string[],\n    onDrop: (files: File[], discarded: number) => void;\n}\n\n/**\n * A dropzone component for dropping files into the UI\n */\nexport const DropFiles: FC<Props> = ({ id, className, style, children, accept, onDrop }) => {\n\n    const [over, setOver] = useState(false);\n\n    const handleDrop = useCallback((e: React.DragEvent<HTMLDivElement>) => {\n        if (e.dataTransfer.files.length > 0) {\n            const files = Array.from(e.dataTransfer.files);\n            const filtered = files.filter(file => fileAccepted(file, accept));\n            onDrop(filtered, files.length - filtered.length);\n        }\n    }, [accept, onDrop]);\n\n    useEffect(() => {\n\n        // prevent defaults makes drag and drop work\n        const dragover = (e: Event) => {\n            e.preventDefault();\n        }\n\n        const drop = (e: Event) => {\n            e.preventDefault();\n            setOver(false);\n        }\n\n        const dragenter = (e: any) => {\n            // if we don't have an element we have come from, we are coming from outside the window\n            if (e.relatedTarget == null) {\n                setOver(true);\n            };\n        }\n\n        const dragleave = (e: any) => {\n            // if we don't have an element we are going to, we are going outside the window\n            if (e.relatedTarget == null) {\n                setOver(false);\n            };\n        }\n\n        window.addEventListener('drop', drop, { passive: true });\n        window.addEventListener('dragenter', dragenter, { passive: true });\n        window.addEventListener('dragleave', dragleave, { passive: true });\n        window.addEventListener('dragover', dragover, { passive: true });\n\n        return () => {\n            window.removeEventListener('drop', drop);\n            window.removeEventListener('dragenter', dragenter);\n            window.removeEventListener('dragleave', dragleave);\n            window.removeEventListener('dragenter', dragover);\n        }\n\n    }, []);\n\n    return <div\n        id={id}\n        className={merge('ui-dropzone', className)}\n        onDrop={handleDrop}\n        style={style}\n    >\n        {children}\n        {over && <div className=\"ui-dropzone__hover-container\">\n            <div className=\"ui-dropzone__hover-content\">\n                <Icon path={mdiFileUploadOutline} size={48} color=\"#aaaaaa\" />\n                <p className=\"ui-dropzone__hover-text\">Drop files here</p>\n            </div>\n        </div>}\n    </div>;\n}","import React, { CSSProperties, MouseEvent, FC } from 'react';\n\nimport { useForeground } from '../../hooks/use-foreground';\nimport { merge } from '../../utils/merge';\nimport { Icon } from '../icon';\n\nimport './styles.css';\n\ninterface Props {\n    id?: string;\n    className?: string;\n    style?: CSSProperties;\n\n    path: string;\n    color: string;\n    text: string;\n    compact?: boolean;\n    hidden?: boolean;\n\n    onClick?: (e: MouseEvent<HTMLDivElement>) => void;\n}\n\n/**\n * Floating action button (FAB)\n */\nexport const Fab: FC<Props> = ({ id, className, style, path, color, onClick, compact, hidden, text }) => {\n\n    const fg = useForeground(color);\n\n    return <div\n        id={id}\n        className={merge('ui-fab', { 'ui-fab--hidden': hidden }, className)}\n        style={{ backgroundColor: color, color: fg, ...style }}\n        onClick={onClick}\n    >\n        <Icon size={24} path={path} color={fg} />\n        <div className={merge(\"ui-fab__text\", { 'ui-fab__text--hidden': compact })}>\n            {text}\n        </div>\n    </div>;\n}","import React, { FC, CSSProperties } from 'react';\n\nimport { merge } from '../../utils/merge';\n\ninterface Props {\n    id?: string;\n    className?: string;\n    style?: CSSProperties;\n}\n\n/**\n * Form element with onSubmit prevented by default.\n */\nexport const Form: FC<Props> = ({ id, className, style, children }) => {\n    return <form\n        id={id}\n        className={merge('ui-form', className)}\n        style={style}\n        onSubmit={e => e.preventDefault()}\n    >\n        {children}\n    </form>;\n}","export interface Error {\n    code: string;\n    message: string;\n}\n\n/**\n * Generate an error object, useful for throwing inside a catch block.\n */\nexport function error(code: string = \"@general/unknown-error\", message: string = \"Something went wrong. Please try again.\"): Error {\n    return { code, message };\n}","/**\n * Checks if an email is valid\n */\nexport function isEmail(email: string) {\n    // from [https://emailregex.com/](https://emailregex.com/)\n    const regex = /(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])/\n    return regex.test(email);\n}","import React, { FC, useState, useMemo, useCallback, ChangeEvent } from 'react';\n\nimport { merge } from '../../utils/merge';\nimport { InternalInputBaseProps } from './defs';\n\nimport './styles.css';\n\nexport const InputBase: FC<InternalInputBaseProps> = ({ id, className, style, type, display, label, margin, required, color, disabled, spellcheck, validate, onChange, onBlur, onFocus, children }) => {\n\n    const [focus, setFocus] = useState<boolean>(false);\n    const [touched, setTouched] = useState(false);\n\n    const error = touched ? validate(display) : null;\n    const hasValue = display !== undefined && display !== null && display !== '';\n\n    const _onChange = useCallback((e: ChangeEvent<HTMLInputElement>) => onChange(e.target.value), [onChange]);\n\n    const _onFocus = useCallback(() => {\n        if (onFocus) {\n            onFocus();\n        }\n        setFocus(true);\n    }, [onFocus]);\n\n    const _onBlur = useCallback(() => {\n        if (onBlur) {\n            onBlur();\n        }\n        setFocus(false);\n        setTouched(true);\n    }, [onBlur]);\n\n    const highlight = useMemo(() => {\n        if (disabled) {\n            return undefined;\n        }\n        if (error) {\n            return '#ff6347';\n        };\n        if (focus) {\n            return color;\n        }\n        return undefined;\n    }, [disabled, error, focus, color]);\n\n    return <div\n        id={id}\n        className={merge('ui-input', { 'ui-input--disabled': disabled, 'ui-input--margin': margin }, className)}\n    >\n        {label && <p style={{ color: highlight }} className={merge(\"ui-input__label\", { 'ui-input__label--float': focus || hasValue })}>{label}{required && '*'}</p>}\n        <div\n            className=\"ui-input__container\"\n            style={{ border: highlight ? `1px solid ${highlight}` : undefined, ...style }}\n        >\n            <input\n                className=\"ui-input__display\"\n                type={type === 'password' ? 'password' : 'text'}\n                value={display}\n                spellCheck={spellcheck}\n                onChange={_onChange}\n                onFocus={_onFocus}\n                onBlur={_onBlur}\n            />\n            {children}\n        </div>\n        {error && !disabled && <p className=\"ui-input__error-text\">{error.message}</p>}\n    </div>;\n}","import React, { FC, useCallback } from 'react';\n\nimport { error } from '../../utils/error';\nimport { isEmail } from '../../utils/is-email';\nimport { InputBase } from '../input-base';\nimport { EmailInputProps } from '../input-base/defs';\n\nexport const InputEmail: FC<EmailInputProps> = ({ value, required, ...props }) => {\n\n    const validate = useCallback((value: string) => {\n        if (required && value === '') {\n            return error('@ui/input-required', 'Required');\n        } else if (!isEmail(value)) {\n            return error('@ui/input-email-invalid', 'Email invalid');\n        } else {\n            return null;\n        }\n    }, [required]);\n\n    return <InputBase display={value} required={required} spellcheck={false} validate={validate} {...props} />;\n}","import React, { FC, useCallback } from 'react';\n\nimport { error } from '../../utils/error';\nimport { InputBase } from '../input-base';\nimport { TextInputProps } from '../input-base/defs';\n\nexport const InputText: FC<TextInputProps> = ({ value, required, ...props }) => {\n\n    const validate = useCallback((value: string) => {\n        if (required && value === '') {\n            return error('@ui/input-required', 'Required');\n        } else {\n            return null;\n        }\n    }, [required]);\n\n    return <InputBase display={value} required={required} spellcheck={true} validate={validate} {...props} />;\n}","import React, { FC, useCallback } from 'react';\n\nimport { error } from '../../utils/error';\nimport { InputBase } from '../input-base';\nimport { PasswordInputProps } from '../input-base/defs';\n\nexport const InputPassword: FC<PasswordInputProps> = ({ value, required, ...props }) => {\n\n    const validate = useCallback((value: string) => {\n        if (required && value === '') {\n            return error('@ui/input-required', 'Required');\n        } else {\n            return null;\n        }\n    }, [required]);\n\n    return <InputBase display={value} required={required} spellcheck={false} validate={validate} {...props} />;\n}","import React, { FC, useCallback, useState, useEffect } from 'react';\nimport { mdiChevronUp, mdiChevronDown } from '@mdi/js';\nimport Big from 'big.js';\n\nimport { error } from '../../utils/error';\nimport { Icon } from '../icon';\nimport { InputBase } from '../input-base';\nimport { NumberInputProps } from '../input-base/defs';\n\nimport './styles.css';\n\nexport const InputNumber: FC<NumberInputProps> = ({ value, required, step, precision, units, onChange, onBlur, ...props }) => {\n\n    const toValue = useCallback((value: string | undefined) => {\n        if (value === undefined || value === '') {\n            return undefined;\n        } else {\n            return parseFloat(value);\n        }\n    }, []);\n\n    const toPrecision = useCallback((value: number | string | undefined) => {\n        if (value === undefined || value === '') {\n            return '';\n        } else {\n            return new Big(value).toFixed(precision);\n        }\n    }, [precision]);\n\n    const [display, setDisplay] = useState<string>(toPrecision(value));\n\n    useEffect(() => setDisplay(toPrecision(value)), [value, toPrecision]);\n\n    const validate = useCallback((display: string) => {\n\n        if(!required && display === '') {\n            return null;\n        }\n\n        if (required && display === '') {\n            return error('@ui/input-required', 'Required');\n        }\n\n        try {\n            new Big(display); // big has stricter parsing so use for number validation\n        } catch (e) {\n            return error('@ui/input-invalid', 'Invalid number');\n        }\n\n        return null;\n    }, [required]);\n\n    const _onBlur = useCallback(() => {\n\n        try {\n            const val = toPrecision(display); // force precision and force valid numbers\n            const parsed = toValue(val);\n            setDisplay(val);\n            onChange(parsed);\n        } catch (e) {}\n\n        if (onBlur) {\n            onBlur();\n        }\n\n    }, [onBlur, toPrecision, toValue, display, value]);\n\n    const onIncrease = useCallback(() => {\n\n        if (value !== undefined) {\n            const val = new Big(value).plus(step).toFixed(precision);\n            const parsed = parseFloat(val);\n            setDisplay(val);\n            onChange(parsed);\n        }\n\n    }, [step, value, display, error, precision, onChange]);\n\n    const onDecrease = useCallback(() => {\n\n        if (value !== undefined) {\n            const val = new Big(value).minus(step).toFixed(precision);\n            const parsed = parseFloat(val);\n            setDisplay(val);\n            onChange(parsed);\n        }\n\n    }, [step, value, display, error, precision, onChange]);\n\n    return <InputBase display={display} required={required} spellcheck={false} validate={validate} onBlur={_onBlur} onChange={setDisplay} {...props}>\n        {units && <p className=\"ui-input-number__units\">{units}</p>}\n        <div className=\"ui-input-number__controls\">\n            <Icon path={mdiChevronUp} size={18} color=\"#000000\" onClick={onIncrease} />\n            <Icon path={mdiChevronDown} size={18} color=\"#000000\" onClick={onDecrease} />\n        </div>\n    </InputBase>;\n}","import React, { FC } from 'react';\n\nimport { InputProps } from '../input-base/defs';\n\nimport { InputEmail } from '../input-email';\nimport { InputText } from '../input-text';\nimport { InputPassword } from '../input-password';\nimport { InputNumber } from '../input-number';\n\n/**\n * Input element with types: 'email' | 'password' | 'text' | 'number'.\n */\nexport const Input: FC<InputProps> = (props) => {\n    switch (props.type) {\n        case 'email':\n            return <InputEmail {...props} />;\n        case 'password':\n            return <InputPassword {...props} />;\n        case 'number':\n            return <InputNumber {...props} />;\n        case 'text':\n        default:\n            return <InputText {...props} />;\n    }\n}","import React, { FC, CSSProperties } from 'react';\nimport { merge } from '../../utils/merge';\n\nimport './styles.css';\n\ninterface Props {\n    id?: string;\n    className?: string;\n    style?: CSSProperties;\n}\n\nexport const Label: FC<Props> = ({ id, className, style, children }) => {\n    return <div\n        id={id}\n        className={merge('ui-label', className)}\n        style={style}\n    >\n        {children}\n    </div>;\n}","import React, { FC, CSSProperties } from 'react';\nimport { merge } from '../../utils/merge';\nimport './styles.css';\n\ninterface Props {\n    id?: string;\n    className?: string;\n    style?: CSSProperties;\n\n    onClick?: () => void;\n}\n\nexport const List: FC<Props> = ({ id, className, style, onClick, children }) => {\n    return <div id={id} className={merge(\"ui-list\", className)} style={style} onClick={onClick}>{children}</div>\n}","import React, { FC, CSSProperties } from \"react\";\n\nimport { merge } from \"../../utils/merge\";\n\nimport './styles.css';\n\ninterface Props {\n    id?: string;\n    className?: string;\n    style?: CSSProperties;\n\n    disabled?: boolean;\n\n    onClick?: () => void;\n}\n\n/**\n * List Item with default hover styles if onClick present.\n */\nexport const ListItem: FC<Props> = ({ id, className, style, disabled, onClick, children }) => {\n    return <div id={id} className={merge(\"ui-list-item\", { 'ui-list-item--hover': !!onClick, 'ui-list-item--disabled': disabled }, className)} style={style} onClick={onClick}>{children}</div>;\n}","import React, { FC, CSSProperties, Children, useState, useRef, useEffect } from \"react\";\nimport { merge } from \"../../utils/merge\";\nimport { Card } from \"../../components/card\";\n\nimport \"./styles.css\";\n\ninterface Props {\n    id?: string;\n    className?: string;\n    style?: CSSProperties;\n}\n\nexport const MenuBar: FC<Props> = ({ id, className, style, children }) => {\n    // is the menu bar currently active?\n    const [open, setOpen] = useState(false);\n    // which item is currently selected\n    const [selection, setSelection] = useState(\"\");\n    const element = useRef<HTMLDivElement>(null);\n\n    // auto close\n    useEffect(() => {\n        const cb = (e: any) => {\n            if (!element.current || !element.current.contains(e.target)) {\n                setOpen(false);\n            } else {\n                setOpen(o => !o);\n            }\n        };\n        document.addEventListener(\"click\", cb);\n        return () => document.removeEventListener(\"click\", cb);\n    }, [element]);\n\n    return (\n        <div id={id} className={merge(\"ui-menu-bar\", className)} style={style}>\n            <div ref={element} className=\"ui-menu-bar__content\">\n                {Children.map(children, (child: any) => {\n                    if (child) {\n                        const selected = open && child.props.label === selection;\n                        return (\n                            <div\n                                id={id}\n                                className={merge(\n                                    \"ui-menu-bar-item\",\n                                    { \"ui-menu-bar-item--selected\": selected },\n                                    className\n                                )}\n                                style={style}\n                                onPointerEnter={() => setSelection(child.props.label)}\n                            >\n                                {child.props.label}\n                                {selected && <Card className=\"ui-menu-bar-item__card\">{child.props.children}</Card>}\n                            </div>\n                        );\n                    } else {\n                        return null;\n                    }\n                })}\n            </div>\n        </div>\n    );\n};\n","import React, { FC, CSSProperties } from \"react\";\n\nimport \"./styles.css\";\n\ninterface Props {\n    id?: string;\n    className?: string;\n    style?: CSSProperties;\n\n    label: string;\n}\n\nexport const MenuBarItem: FC<Props> = ({ children }) => {\n    return <>{children}</>;\n};\n","import React, { FC } from \"react\";\n\ninterface Props {\n    value: any;\n    displayAs: string;\n}\n\n/** \n * Option to be used with Select element.\n */\nexport const Option: FC<Props> = ({ children }) => {\n    return <>{children}</>;\n}","import React, { CSSProperties, FC } from 'react';\n\nimport { merge } from '../../utils/merge';\nimport { useAlpha } from '../../hooks/use-alpha';\n\nimport './styles.css';\n\ninterface Props {\n    id?: string;\n    className?: string;\n    style?: CSSProperties;\n\n    percent?: number;\n    color: string;\n    hidden?: boolean;\n}\n\n/**\n * Progress component. Can be indeterminate or determinate to show working state or progres.\n */\nexport const Progress: FC<Props> = ({ id, className, style, color, percent, hidden }) => {\n\n    const bg = useAlpha(color, .2);;\n\n    return <div\n        id={id}\n        className={merge(\n            'ui-progress',\n            {\n                'ui-progress--indeterminate': percent === undefined,\n                'ui-progress--hidden': hidden\n            },\n            className\n        )}\n        style={{\n            backgroundColor: bg,\n            ...style\n        }}\n    >\n        <div\n            className=\"ui-progress__indicator\"\n            style={{\n                width: `${percent}%`,\n                backgroundColor: color\n            }}\n        />\n    </div>;\n}","import React, { FC, CSSProperties } from 'react';\n\nimport { merge } from \"../../utils/merge\";\n\nimport './styles.css';\n\ninterface Props {\n    id?: string;\n    className?: string;\n    style?: CSSProperties;\n\n    width: number;\n}\n\n/**\n * Section component.\n */\nexport const Section: FC<Props> = ({ id, className, style, width, children }) => {\n    return <section\n        id={id}\n        className={merge('ui-section__container', className)}\n        style={style}\n    >\n        <div className=\"ui-section__content\" style={{ maxWidth: width }}>\n            {children}\n        </div>\n    </section>;\n}","import React, { useState, useMemo, CSSProperties, FC, useRef, useEffect, Children } from 'react';\nimport { mdiChevronDown } from '@mdi/js';\n\nimport { merge } from '../../utils/merge';\nimport { Icon } from '../icon';\nimport { Card } from '../card';\nimport { useDelayBoolean } from '../../hooks/use-delay-boolean';\n\nimport '../input-base/styles.css';\nimport './styles.css';\n\ninterface Props {\n    id?: string;\n    className?: string;\n    style?: CSSProperties;\n\n    value: any;\n    label: string;\n    color: string;\n    margin?: boolean;\n    disabled?: boolean;\n    direction?: 'up' | 'down';\n\n    onChange: (value: any) => void;\n}\n\n/**\n * Select component to be used with the Option component.\n */\nexport const Select: FC<Props> = ({ id, className, style, value, margin, children, label, onChange, color, disabled, direction }) => {\n\n    const [focus, setFocus] = useState<boolean>(false);\n    const element = useRef<HTMLDivElement>(null);\n\n    const open = useDelayBoolean(focus, 400);\n\n    const display = useMemo(() => {\n        let _display = '';\n        Children.forEach(children, (child: any) => {\n            if (child && child.props.value === value) {\n                _display = child.props.displayAs;\n            }\n        });\n        return _display;\n    }, [value, children]);\n\n    // auto close\n    useEffect(() => {\n        const cb = (e: any) => {\n            if (!element.current || !element.current.contains(e.target)) {\n                setFocus(false);\n            } else {\n                setFocus(o => !o);\n            }\n        }\n        document.addEventListener('click', cb);\n        return () => document.removeEventListener('click', cb);\n    }, [element]);\n\n    const highlight = useMemo(() => {\n        if (disabled) {\n            return undefined;\n        }\n        if (focus) {\n            return color;\n        }\n        return undefined;\n    }, [disabled, focus, color]);\n\n    return <div\n        id={id}\n        className={merge('ui-select', 'ui-input', { 'ui-input--disabled': disabled, 'ui-input--margin': margin }, className)}\n        style={style}\n        ref={element}\n    >\n\n        {label && <p style={{ color: focus ? color : undefined }} className=\"ui-input__label ui-input__label--float\">{label}*</p>}\n\n        <div\n            className=\"ui-select__container ui-input__container\"\n            style={{ border: highlight ? `1px solid ${highlight}` : undefined, ...style }}\n        >\n            <p className=\"ui-input__display\">{display}</p>\n            <Icon className=\"ui-select__icon\" style={{ transform: focus ? 'rotateZ(180deg)' : undefined }} size={24} color=\"#777777\" path={mdiChevronDown} />\n        </div>\n\n        <Card className={merge(\"ui-select__card\", { 'ui-select__card--open': focus, 'ui-select__card--up': direction === 'up' })}>\n            {open && Children.map(children, (child: any) => {\n                if (child) {\n                    return <div\n                        key={child.props.value}\n                        className=\"ui-select__item\"\n                        onClick={() => {\n                            onChange(child.props.value);\n                        }}\n                    >\n                        {child}\n                    </div>;\n                } else {\n                    return null;\n                }\n            })}\n        </Card>\n\n    </div>;\n}","import { MutableRefObject, Dispatch, SetStateAction, createContext } from \"react\";\n\nexport interface Item {\n    key: string;\n    index: number;\n    sorting: boolean;\n    active: boolean;\n    ref: MutableRefObject<HTMLDivElement | null>;\n}\n\nexport interface Items {\n    [key: string]: Item;\n}\n\ntype ItemsUpdater = Dispatch<SetStateAction<Items>>;\n\ninterface Context {\n    config: { direction: \"x\" | \"y\"; onEnd: (oldIndex: number, newIndex: number) => void };\n    items: Items;\n    setItems: ItemsUpdater;\n}\n\nexport const SortableContext = createContext<Context>({\n    config: { direction: \"y\", onEnd: () => {} },\n    items: {},\n    setItems: () => {}\n});\n","import React, { useState } from \"react\";\n\nimport { SortableContext, Items } from \"./context\";\nimport { merge } from \"../../utils/merge\";\nimport { SuperFC } from \"generic\";\n\ninterface Props {\n    direction: \"x\" | \"y\";\n    onEnd: (oldIndex: number, newIndex: number) => void;\n}\n\nexport const SortableContainer: SuperFC<Props> = ({ className, direction, onEnd, children, ...props }) => {\n    const [items, setItems] = useState<Items>({});\n\n    return (\n        <SortableContext.Provider value={{ config: { direction, onEnd }, items, setItems }}>\n            <div className={merge(\"ui-sortable-container\", className)} {...props}>\n                {children}\n            </div>\n        </SortableContext.Provider>\n    );\n};\n","export function getAbsoluteHeight(element: HTMLDivElement | null) {\n    if (element) {\n        var styles = window.getComputedStyle(element);\n        var margin = parseFloat(styles[\"marginBottom\"]);\n        return Math.ceil(element.offsetHeight + margin);\n    } else {\n        return 0;\n    }\n}\n","export function getAbsoluteWidth(element: HTMLDivElement | null) {\n    if (element) {\n        var styles = window.getComputedStyle(element);\n        var margin = parseFloat(styles[\"marginRight\"]);\n        return Math.ceil(element.offsetWidth + margin);\n    } else {\n        return 0;\n    }\n}\n","import { Item } from \"../sortable-container/context\";\n\nexport function getInsertPointX(e: PointerEvent, items: Item[], oldIndex: number) {\n    let newIndex = 0;\n    items.forEach(item => {\n        const box = item.ref.current?.getBoundingClientRect();\n        if (box) {\n            const insertCutOffPoint = box.left + box.width / 2;\n            // don't insertAt the existing index\n            if (e.clientX > insertCutOffPoint) {\n                if (item.index > oldIndex) {\n                    if (item.index > newIndex) {\n                        newIndex = item.index;\n                    }\n                } else if (item.index < oldIndex) {\n                    if (item.index + 1 > newIndex) {\n                        newIndex = item.index + 1;\n                    }\n                }\n            }\n        }\n    });\n    return newIndex;\n}\n","import { Item } from \"../sortable-container/context\";\n\nexport function getInsertPointY(e: PointerEvent, items: Item[], oldIndex: number) {\n    let newIndex = 0;\n    items.forEach(item => {\n        const box = item.ref.current?.getBoundingClientRect();\n        if (box) {\n            const insertCutOffPoint = box.top + box.height / 2;\n            // don't insertAt the existing index\n            if (e.clientY > insertCutOffPoint) {\n                if (item.index > oldIndex) {\n                    if (item.index > newIndex) {\n                        newIndex = item.index;\n                    }\n                } else if (item.index < oldIndex) {\n                    if (item.index + 1 > newIndex) {\n                        newIndex = item.index + 1;\n                    }\n                }\n            }\n        }\n    });\n    return newIndex;\n}\n","import { Item } from \"../sortable-container/context\";\n\nexport function getOffset(item: Item, insertAt: number, index: number, offsetItemsBy: number) {\n    if (item.index < index) {\n        if (insertAt <= item.index) {\n            return offsetItemsBy;\n        }\n    }\n    if (item.index > index) {\n        if (insertAt >= item.index) {\n            return -offsetItemsBy;\n        }\n    }\n    return 0;\n}\n","import React, { useRef, useEffect, useContext, MutableRefObject, useMemo, useLayoutEffect } from \"react\";\nimport shortid from \"shortid\";\n\nimport { SortableContext, Items } from \"../sortable-container/context\";\nimport { useDragHandler } from \"../../hooks/use-drag-handler\";\nimport { merge } from \"../../utils/merge\";\nimport { SuperFC } from \"../../generic\";\nimport { getAbsoluteHeight } from \"./get-absolute-height\";\nimport { getAbsoluteWidth } from \"./get-absolute-width\";\nimport { getInsertPointX } from \"./get-insert-point-x\";\nimport { getInsertPointY } from \"./get-insert-point-y\";\nimport { getOffset } from \"./get-offset\";\n\ninterface Props {\n    index: number;\n    handle?: MutableRefObject<HTMLDivElement | null>;\n}\n\nexport const SortableItem: SuperFC<Props> = ({ index, handle, className, onPointerDown, children, ...props }) => {\n    const ref = useRef<HTMLDivElement>(null);\n\n    // set a fixed key for the duration of the items life\n    const key = useMemo(() => shortid(), []);\n    const { config, items, setItems } = useContext(SortableContext);\n\n    // if exists, the index has changed so update else register with the container\n    useLayoutEffect(() => {\n        ref.current?.style.removeProperty(\"transform\");\n        setItems(items => {\n            return {\n                ...items,\n                [key]: { key, index, sorting: false, active: false, ref }\n            };\n        });\n    }, [key, index, ref, setItems]);\n\n    // cleanup on item destroyed\n    useEffect(() => {\n        return () => {\n            setItems(items => {\n                const { [key]: item, ...others } = items;\n                return others;\n            });\n        };\n    }, [key]);\n\n    // stop native touch scrolling in the config.direction\n    useEffect(() => {\n        const target = handle && handle.current ? handle.current : ref.current;\n        if (target) {\n            target.style.touchAction = `pan-${config.direction === \"x\" ? \"y\" : \"x\"}`;\n        }\n    }, [handle, ref, config]);\n\n    const onDown = useDragHandler<{ x: number; y: number; offsetItemsBy: number; moveTo: number }>(\n        {\n            onDown: e => {\n                if (onPointerDown) {\n                    onPointerDown(e as any);\n                }\n\n                // cancel if not the left mouse button\n                if (e.button === 2) {\n                    return false;\n                }\n\n                // cancel any pointerdown events not inside the handle\n                if (handle && handle.current) {\n                    const target = e.target as HTMLDivElement;\n                    if (handle.current !== e.target && !handle.current.contains(target)) {\n                        return false;\n                    }\n                }\n\n                setItems(items => {\n                    return Object.entries(items).reduce<Items>((output, [itemKey, item]) => {\n                        return {\n                            ...output,\n                            [itemKey]: {\n                                ...item,\n                                active: itemKey === key,\n                                sorting: true\n                            }\n                        };\n                    }, {});\n                });\n\n                // init mouse/pointer position\n                return {\n                    x: e.screenX,\n                    y: e.screenY,\n                    offsetItemsBy:\n                        config.direction === \"x\" ? getAbsoluteWidth(ref.current) : getAbsoluteHeight(ref.current),\n                    moveTo: index\n                };\n            },\n            onMove: (e, init) => {\n                if (config.direction === \"x\") {\n                    init.moveTo = getInsertPointX(e, Object.values(items), index);\n                    Object.entries(items).forEach(([itemKey, item]) => {\n                        item.ref.current?.style.setProperty(\n                            \"transform\",\n                            `translate3d(${\n                                itemKey === key\n                                    ? e.screenX - init.x\n                                    : getOffset(item, init.moveTo, index, init.offsetItemsBy)\n                            }px, 0px, 0px)`\n                        );\n                    });\n                } else {\n                    init.moveTo = getInsertPointY(e, Object.values(items), index);\n                    Object.entries(items).forEach(([itemKey, item]) => {\n                        item.ref.current?.style.setProperty(\n                            \"transform\",\n                            `translate3d(0px, ${\n                                itemKey === key\n                                    ? e.screenY - init.y\n                                    : getOffset(item, init.moveTo, index, init.offsetItemsBy)\n                            }px, 0px)`\n                        );\n                    });\n                }\n            },\n            onEnd: (_e, init) => {\n                // if no move\n                if (init.moveTo === index) {\n                    Object.values(items).forEach(item => {\n                        item.ref.current?.style.removeProperty(\"transform\");\n                    });\n                    setItems(items => {\n                        return Object.entries(items).reduce<Items>((output, [itemKey, item]) => {\n                            return {\n                                ...output,\n                                [itemKey]: {\n                                    ...item,\n                                    active: false,\n                                    sorting: false\n                                }\n                            };\n                        }, {});\n                    });\n                } else {\n                    config.onEnd(index, init.moveTo);\n                }\n            }\n        },\n        [key, config, items, index, handle, onPointerDown]\n    );\n\n    const item = items[key];\n\n    return (\n        <div\n            ref={ref}\n            onPointerDown={onDown}\n            className={merge(\n                \"ui-sortable-item\",\n                { \"ui-sortable-item--sorting\": item?.sorting, \"ui-sortable-item--active\": item?.active },\n                className\n            )}\n            {...props}\n        >\n            {children}\n        </div>\n    );\n};\n","import React, { FC, CSSProperties } from \"react\";\n\nimport { merge } from \"../../utils/merge\";\n\nimport './styles.css';\n\ninterface Props {\n    id?: string;\n    className?: string;\n    style?: CSSProperties;\n}\n\n/**\n * Google tasks style subheader component. Small, bold and capitalized.\n */\nexport const Subheader: FC<Props> = ({ id, className, style, children }) => {\n    return <p id={id} className={merge(\"ui-subheader\", className)} style={style}>{children}</p>;\n};","import React, { CSSProperties, FC } from 'react';\n\nimport {merge} from '../../utils/merge';\nimport {useAlpha} from '../../hooks/use-alpha';\n\nimport './styles.css';\n\ninterface Props {\n    id?: string;\n    className?: string;\n    style?: CSSProperties;\n\n    value: boolean;\n    disabled?: boolean;\n    color: string;\n\n    onChange?: (val: boolean) => void;\n}\n\n/**\n * Switch component.\n */\nexport const Switch: FC<Props> = ({ id, className, style, value, disabled, color, onChange }) => {\n\n    const bg = useAlpha(color, .4);\n\n    return <div\n        id={id}\n        className={merge('ui-switch', { 'ui-switch--active': value, 'ui-switch--disabled': disabled }, className)}\n        style={style}\n        onClick={() => onChange && onChange(!value)}\n    >\n        <div className=\"ui-switch__track\" style={{ backgroundColor: value ? bg : undefined }} />\n        <div className=\"ui-switch__button\" style={{ backgroundColor: value ? color : undefined, left: value ? 19 : undefined }} />\n    </div>;\n}","import React, { FC, useRef, useCallback, useEffect } from 'react';\n\nimport { merge } from '../../utils/merge';\n\nimport './styles.css';\n\ninterface Props {\n    value: any;\n}\n\n/**\n * Tab component to be used inside the Tabs component;\n */\nexport const Tab: FC<Props> = ({ children }) => {\n    return <>{children}</>;\n}\n\n\ninterface PropsExtended extends Props {\n    selected: boolean;\n    highlight: string;\n    color: string;\n    onChange: (value: any) => void;\n    setBar: (value: { left: number, width: number }) => void;\n}\n\n/**\n * Tab component to be used inside the Tabs component;\n */\nexport const TabExtended: FC<PropsExtended> = ({ children, value, selected, highlight, color, onChange, setBar }) => {\n\n    const ref = useRef<HTMLDivElement>(null);\n\n    const onClick = useCallback(() => {\n        if (onChange) {\n            onChange(value);\n        }\n    }, [value, onChange]);\n\n    useEffect(() => {\n        if (setBar && selected && ref.current) {\n            setBar({ left: ref.current.offsetLeft, width: ref.current.offsetWidth });\n        }\n    }, [selected, setBar, ref]);\n\n    return <div\n        ref={ref}\n        className={merge(\"ui-tab\", { 'ui-tab--selected': selected })}\n        style={{\n            color: selected ? highlight : color,\n            transition: selected ? 'color .2s .1s' : 'color .2s'\n        }}\n        onClick={onClick}\n    >{children}</div>;\n}","import React, { FC, Children, useState } from 'react';\n\nimport { merge } from '../../utils/merge';\nimport { TabExtended } from '../tab';\n\nimport './styles.css';\n\ninterface Props {\n    value: any;\n    onChange: (value: any) => void;\n\n    color: string;\n    highlight: string;\n    className?: string;\n}\n\n/**\n * Tabs component used with the Tab ccomponent.\n */\nexport const Tabs: FC<Props> = ({ children, value, onChange, color, highlight, className }) => {\n\n    const [bar, setBar] = useState({ left: 0, width: 90 });\n\n    return <div className={merge(\"ui-tabs\", className)}>\n        {Children.map(children, (child: any) => {\n            if (child) {\n                return <TabExtended\n                    {...child.props}\n                    selected={value === child.props.value}\n                    color={color}\n                    highlight={highlight}\n                    onChange={onChange}\n                    setBar={setBar}\n                />;\n            } else {\n                return null;\n            }\n        })}\n        <div className=\"ui-tabs__bar\" style={{ backgroundColor: highlight, ...bar }} />\n    </div>;\n}","import React, { CSSProperties, FC, useState, useMemo, useCallback } from 'react';\n\nimport { merge } from '../../utils/merge';\n\nimport '../input-base/styles.css';\nimport './styles.css';\n\ninterface Props {\n    id?: string;\n    className?: string;\n    style?: CSSProperties;\n    color: string;\n\n    value: any;\n    label?: string;\n    required?: boolean;\n    disabled?: boolean;\n    spellcheck?: boolean\n\n    onChange: (value: any) => void;\n}\n\n/**\n * Auto expanding textarea component.\n */\nexport const Textarea: FC<Props> = ({ id, className, style, value, label, required, color, disabled, spellcheck, onChange }) => {\n\n    const validate = useCallback((value: string) => {\n        if (required && value === '') {\n            return 'Required';\n        } else {\n            return null;\n        }\n    }, [required]);\n\n    const [focus, setFocus] = useState<boolean>(false);\n    const [touched, setTouched] = useState(false);\n    const error = touched ? validate(value) : null;\n    const hasValue = value !== undefined && value !== null && value !== '';\n\n    const highlight = useMemo(() => {\n        if (error) {\n            return '#ff6347'\n        };\n        if (focus) {\n            return color;\n        }\n        return undefined;\n    }, [error, focus, color])\n\n    return <div\n        id={id}\n        className={merge('ui-textarea', 'ui-input', { 'ui-input--disabled': disabled }, className)}\n    >\n        {label && <p style={{ color: highlight }} className={merge(\"ui-input__label\", { 'ui-input__label--float': focus || hasValue })}>{label}{required && '*'}</p>}\n        <div\n            className=\"ui-input__container ui-textarea__container\"\n            style={{ border: highlight ? `1px solid ${highlight}` : undefined, ...style }}\n        >\n            <textarea\n                className=\"ui-input__display ui-textarea__display\"\n                value={value}\n                spellCheck={spellcheck}\n                onChange={e => onChange(e.target.value)}\n                onFocus={() => setFocus(true)}\n                onBlur={() => {\n                    setFocus(false);\n                    setTouched(true);\n                }}\n            />\n            <div className=\"ui-input__display ui-textarea__slave\">{value}{'\\n'}</div>\n        </div>\n        {error && <p className=\"ui-input__error-text\">{error}</p>}\n    </div>;\n}","import React, { FC, useState, useEffect, useCallback } from 'react';\n\nimport { merge } from '../../utils/merge';\nimport { Button } from '../button';\nimport { ToastInstance } from './defs';\n\nimport './styles.css';\n\ninterface Props {\n    color: string;\n    toast: ToastInstance;\n    onDestroy: (key: string) => void;\n}\n\n/**\n * Internal component used by the Toast component.\n */\nexport const ToastEntry: FC<Props> = ({ color, toast, onDestroy }) => {\n\n    const [hidden, setHidden] = useState(false);\n    const [selfCombustTimeout, setSelfCombustTimeout] = useState<any>();\n\n    useEffect(() => {\n        setHidden(false);\n        const timeout = setTimeout(() => {\n            if (toast.onTimeout) {\n                toast.onTimeout();\n            }\n            setHidden(true);\n            setTimeout(() => onDestroy(toast.key), 500);\n        }, toast.duration);\n        setSelfCombustTimeout(timeout);\n    }, [toast, onDestroy]);\n\n    const onClick = useCallback(() => {\n        clearTimeout(selfCombustTimeout);\n        if (toast.onClick) {\n            toast.onClick();\n        }\n        setHidden(true);\n        setTimeout(() => onDestroy(toast.key), 500);\n    }, [toast, selfCombustTimeout, onDestroy]);\n\n    return <div key={toast.key} className={merge('ui-toast', { 'ui-toast--hide': hidden })}>\n        <span className=\"ui-toast__text\">{toast.text}</span>\n        {toast.onClick && <Button className=\"ui-toast__button\" compact color={color} outline onClick={onClick}>{toast.button || 'Cancel'}</Button>}\n    </div>;\n}","import React, { FC, Fragment } from 'react';\nimport shortid from \"shortid\";\n\nimport { ToastInstance, ToastConfig } from './defs';\nimport { ToastEntry } from './toast-entry';\n\ninterface Props {\n    color: string;\n    toasts: ToastInstance[];\n    onDestroy: (key: string) => void;\n}\n\nexport const Toast: FC<Props> = ({ color, toasts, onDestroy }) => {\n    return <Fragment>\n        {toasts.map(toast => {\n            return <ToastEntry key={toast.key} color={color} toast={toast} onDestroy={onDestroy} />;\n        })}\n    </Fragment>;\n}\n\nexport function createToastInstance({ text, button, duration = 4000, onClick, onTimeout }: ToastConfig): ToastInstance {\n    return {\n        key: shortid(),\n        text,\n        button,\n        duration,\n        onClick,\n        onTimeout\n    }\n}","import React, { FC, CSSProperties } from 'react';\n\nimport { merge } from '../../utils/merge';\n\nimport './styles.css';\n\ninterface Props {\n    id?: string;\n    className?: string;\n    style?: CSSProperties;\n\n    type: 'swipeUp' | 'fadeIn';\n}\n\n/**\n * Basic animation in for elements.\n */\nexport const Transition: FC<Props> = ({ id, className, style, type, children }) => {\n    return <div\n        id={id}\n        className={merge('ui-transition', className, { 'ui-transition--swipe-up': type === 'swipeUp', 'ui-transition--fade-in': type === 'fadeIn' })}\n        style={style}\n    >\n        {children}\n    </div>;\n}","import { useEffect } from 'react';\n\n/**\n * Hook: injects dynamic css into the DOM.\n */\nexport function useStyles(...args: string[]) {\n\n    useEffect(() => {\n        const style = document.createElement(\"style\");\n        style.appendChild(document.createTextNode(\"\"));\n        document.head.appendChild(style);\n\n        const sheet: any = style.sheet;\n        args.forEach(css => {\n            sheet.insertRule(css);\n        });\n\n        return () => {\n            style.remove();\n        }\n    }, [args]);\n\n}","import React, { useMemo } from 'react';\n\nimport { Converter } from 'showdown';\nimport showdownHighlight from \"showdown-highlight\";\n\nimport { useAlpha } from '../../hooks/use-alpha';\nimport { useStyles } from '../../hooks/use-styles';\nimport { merge } from '../../utils/merge';\n\nimport 'highlight.js/styles/vs2015.css';\nimport './styles.css';\n\ninterface Props {\n    className: string;\n    markdown: string;\n    theme: string;\n}\n\nexport const MarkdownContent: React.FC<Props> = ({ className, markdown, theme }) => {\n\n    const faded = useAlpha(theme, .1);\n\n    useStyles(`.markdown-content blockquote { border-left: 4px solid ${theme}; background-color: ${faded}; }`);\n    useStyles(`.markdown-content a { color: ${theme}; }`);\n    useStyles(`.markdown-content blockquote > p { color: ${theme}; }`);\n\n    const html = useMemo(() => {\n        const converter = new Converter({ extensions: [showdownHighlight], openLinksInNewWindow: true });\n        return {\n            __html: converter.makeHtml(markdown)\n        };\n    }, [markdown]);\n\n    return <div className={merge(\"markdown-content\", className)} dangerouslySetInnerHTML={html} />;\n}\n","import { useState, useEffect } from 'react';\nimport isString from 'lodash.isstring';\nimport isObject from 'lodash.isobject';\nimport isNumber from 'lodash.isnumber';\nimport isBoolean from 'lodash.isboolean';\n\nconst styles = `\n    body {\n        margin: 20px;\n        font-family: monospace;\n    }\n    .prop {\n        position: relative;\n        margin-left: 20px;\n        pointer-events: none;\n    }\n    .prop__caret {\n        position: absolute;\n        top: 4px;\n        left: -12px;\n        cursor: pointer;\n        pointer-events: all;\n    }\n    .prop > .prop {\n        display: none;\n    }\n    .prop > .prop__placeholder {\n        display: inline-block;\n        cursor: pointer;\n        pointer-events: all;\n    }\n    .prop > .prop__caret--right {\n        display: block;\n    }\n    .prop > .prop__caret--down {\n        display: none;\n    }\n    .prop__expand > .prop {\n        display: block !important;\n    }\n    .prop__expand > .prop__placeholder {\n        display: none !important;\n    }\n    .prop__expand > .prop__caret--right {\n        display: none;\n    }\n    .prop__expand > .prop__caret--down {\n        display: block;\n    }\n    .prop__key {\n        color: purple;\n    }\n    .prop__value--undefined,\n    .prop__value--null {\n        color: green;\n    }\n    .prop__value--string {\n        color: red;\n    }\n    .prop__value--number,\n    .prop__value--boolean {\n        color: blue;\n    }\n`;\n\nconst right = '<svg class=\"prop__caret prop__caret--right\" xmlns=\"http://www.w3.org/2000/svg\" width=\"8\" height=\"8\" viewBox=\"0 0 24 24\"><path fill=\"grey\" d=\"M21 12l-18 12v-24z\"/></svg>';\nconst down = '<svg class=\"prop__caret prop__caret--down\" xmlns=\"http://www.w3.org/2000/svg\" width=\"8\" height=\"8\" viewBox=\"0 0 24 24\"><path fill=\"grey\" d=\"M12 21l-12-18h24z\"/></svg>';\n\nfunction parse(win: any, key: string, val: any, path: string) {\n\n    if (val === undefined) {\n        return `<div class=\"prop\"><span class=\"prop__key\">${key}</span><span>:</span> <span class=\"prop__value\">\"<span class=\"prop__value--undefined\">undefined</span>\"</span></div>`\n    }\n\n    if (val === null) {\n        return `<div class=\"prop\"><span class=\"prop__key\">${key}</span><span>:</span> <span class=\"prop__value\">\"<span class=\"prop__value--null\">null</span>\"</span></div>`\n    }\n\n    if (isString(val)) {\n        return `<div class=\"prop\"><span class=\"prop__key\">${key}</span><span>:</span> <span class=\"prop__value\">\"<span class=\"prop__value--string\">${val}</span>\"</span></div>`\n    }\n\n    if (isNumber(val)) {\n        return `<div class=\"prop\"><span class=\"prop__key\">${key}</span><span>:</span> <span class=\"prop__value prop__value--number\">${val}</span></div>`\n    }\n\n    if (isBoolean(val)) {\n        return `<div class=\"prop\"><span class=\"prop__key\">${key}</span><span>:</span> <span class=\"prop__value prop__value--boolean\">${val}</span></div>`\n    }\n\n    if (Array.isArray(val)) {\n        const props: string[] = val.map((_key: string, i: number) => {\n            return parse(win, `${i}`, _key, path + key);\n        });\n        const html = props.join('');\n        return `<div class=\"prop ${win.__expanded[path + key] ? 'prop__expand' : ''}\" onclick=\"this.classList.toggle('prop__expand'); window.__expanded['${path + key}'] = this.classList.contains('prop__expand'); event.stopPropagation();\">${right}${down}<span class=\"prop__key\">${key}</span><span>:</span> <span>[</span>${html}${html !== '' ? '<span class=\"prop__placeholder\">...</span>' : ''}<span>]</span></div>`\n    }\n\n    if (isObject(val)) {\n        const _val: any = val;\n        const keys = Object.keys(_val);\n        const props: string[] = keys.map(_key => {\n            return parse(win, _key, _val[_key], path + key);\n        });\n        const html = props.join('');\n        return `<div class=\"prop ${win.__expanded[path + key] ? 'prop__expand' : ''}\" onclick=\"this.classList.toggle('prop__expand'); window.__expanded['${path + key}'] = this.classList.contains('prop__expand'); event.stopPropagation();\">${right}${down}<span class=\"prop__key\">${key}</span><span>:</span> ${html === '' ? '{}' : html}${html !== '' ? `<span class=\"prop__placeholder\">{...}</span>` : ''}</div>`\n    }\n\n    return '';\n}\n\n/**\n * Hook: Logs state to a seperate window, auto updating with the most current values.\n */\nexport function useLog(obj: any, rootName: string) {\n\n    const [win, setWin] = useState<Window | null>(null);\n\n    // init\n    useEffect(() => {\n        const view = window.open('', '@ui/debug', 'menubar=no,toolbar=no,location=no,titlebar=no,status=no') as any;\n        if (view) {\n            if (!view.__expanded) {\n                view.__expanded = {};\n            }\n            const style = view.document.createElement('style');\n            style.innerHTML = styles;\n            view.document.head.appendChild(style);\n            setWin(view);\n        }\n    }, []);\n\n    // render updates\n    useEffect(() => {\n        if (win) {\n            win.document.body.innerHTML = parse(win, rootName, obj, '');\n        }\n    }, [win, obj, rootName]);\n}","import { useMemo } from \"react\";\n\n/**\n * Super simple pluralizer convenience method. \n */\nexport function usePluralize(num: number, single: string, plural: string) {\n    return useMemo(() => {\n        return num === 1 ? single : plural;\n    }, [num, single, plural]);\n}","import { useMemo } from \"react\";\n/**\n * Hook: Generates a array of colors of length 'count'. Minimum number of colors is 7.\n */\nexport function useRainbow(count: number) {\n    return useMemo(() => {\n\n        const len = count > 7 ? count : 7;\n\n        const offset = 206;\n        const width = 359 - 100;\n        const step = Math.floor(width / len);\n\n        return Array(len).fill('').map((_entry, i) => {\n            const base = (step * i) + offset;\n            const color = `hsl(${base > 359 ? base - 359 : base}, 100%, 35%)`;\n            return color;\n        });\n\n    }, [count]);\n}","import { useEffect, useState } from \"react\";\n\n/**\n * Hook: listener for scroll event - returns Y scroll offset.\n */\nexport function useScrollListener() {\n\n    const [y, setY] = useState(0.0);\n    useEffect(() => {\n        const cb = () => {\n            setY(window.scrollY);\n        }\n\n        window.addEventListener('scroll', cb, { passive: true });\n        return () => {\n            window.removeEventListener('scroll', cb);\n        }\n    });\n\n    return y;\n\n}","import { useEffect } from \"react\";\n\n/**\n * Hook: Set the browser theme dynamically;\n */\nexport function useTheme(color: string) {\n    useEffect(() => {\n        const metaThemeColor = document.querySelector(\"meta[name=theme-color]\");\n        if (metaThemeColor) {\n            metaThemeColor.setAttribute(\"content\", color);\n        } else {\n            const el = document.createElement('meta');\n            el.setAttribute('name', 'theme-color');\n            el.setAttribute('content', color);\n        }\n    }, [color]);\n}","import { useEffect } from \"react\";\n\nexport function useTitle(title: string) {\n    useEffect(() => {\n        document.title = title;\n    }, [title]);\n}","import { useEffect, useState } from \"react\";\n/**\n * Hook: Listens for window resize and returns width and height;\n */\nexport function useWindowResizeListener() {\n\n    const [width, setWidth] = useState(window.innerWidth);\n    const [height, setHeight] = useState(window.innerHeight);\n\n    useEffect(() => {\n        const cb = () => {\n            setWidth(window.innerWidth);\n            setHeight(window.innerHeight);\n        }\n\n        window.addEventListener('resize', cb, { passive: true });\n        return () => {\n            window.removeEventListener('resize', cb);\n        }\n    });\n\n    return { width, height };\n\n}","import { fileAccepted } from \"../file-accepted\";\n\n/**\n * A utility function that opens the system file picker and returs the selected files\n * inside a promise.\n */\nexport function chooseFiles(config?: { accept?: string[], multiple?: boolean }) {\n\n    const input = document.createElement('input');\n    input.type = 'file';\n    input.style.position = 'fixed';\n    input.style.visibility = 'hidden';\n    input.style.left = '-100000px';\n    input.style.top = '-100000px';\n\n    if (config) {\n        if (config.accept) {\n            input.accept = config.accept.join(',');\n        }\n        if (config.multiple) {\n            input.multiple = config.multiple;\n        }\n    }\n\n    document.body.appendChild(input);\n\n    return new Promise<{ files: File[], discarded: number }>((resolve, _reject) => {\n\n        let timeout: any;\n\n        const focus = () => {\n            timeout = setTimeout(change, 500);\n        };\n\n        const change = () => {\n            clearTimeout(timeout);\n            window.removeEventListener('focus', focus);\n            input.removeEventListener('change', change);\n            const files = input.files ? Array.from(input.files) : [];\n            const filtered = files.filter(file => fileAccepted(file, config && config.accept));\n            resolve({ files: filtered, discarded: files.length - filtered.length });\n            input.remove();\n        }\n\n        // slightly shit, the change event always fires slightly after the focus event\n        // input.files not updated until change fired so we have to wait after focus event\n        // to see if it's a file select or actual just a cancel\n        window.addEventListener('focus', focus);\n        input.addEventListener('change', change);\n\n        input.click();\n\n    });\n}","import { error } from '../../utils/error';\n\nexport async function download(raw: any, name: string): Promise<void> {\n\n    const content = JSON.stringify(raw, undefined, 2);\n    const blob = new Blob([content], { type: 'text/plain' });\n    const localUrl = URL.createObjectURL(blob);\n\n    // yes we need to append else it doesn't work\n    const a: any = document.createElement('A');\n    document.body.appendChild(a);\n    a.style.position = 'fixed';\n    a.style.visibility = 'hidden';\n    a.style.left = '-100000px';\n    a.style.top = '-100000px';\n    a.href = localUrl;\n    a.download = name;\n\n    try {\n        a.click();\n        a.remove();\n        URL.revokeObjectURL(localUrl);\n        return;\n    } catch (err) {\n        a.remove();\n        URL.revokeObjectURL(localUrl);\n        throw error('@download/fail', 'Could not download the file.');\n    }\n\n}","/**\n * Generate a Promise that will be resolved after specified duration.\n */\nexport async function wait(duration = 1000) {\n    return new Promise(resolve => {\n        setTimeout(resolve, duration);\n    });\n}"],"names":["merge","args","out","reduce","arr","arg","isString","clean","split","filter","val","isObject","keys","Object","key","join","Appbar","className","shadow","children","props","React","colors","useForeground","color","useMemo","Color","isDark","Avatar","id","style","src","name","size","letter","slice","toUpperCase","background","foreground","useState","isImageValid","setIsImageValid","useEffect","checkImageExists","fetch","mode","didCancel","height","width","fontSize","backgroundColor","backgroundImage","undefined","Backdrop","open","transparent","onClick","useDelayBoolean","master","delay","slave","setSlave","timeout","setTimeout","clearTimeout","Portal","container","setContainer","$container","document","createElement","body","appendChild","remove","ReactDOM","createPortal","BottomSheet","onClose","render","maxWidth","maxHeight","overflow","transform","Spinner","percent","r","c","Big","Math","PI","_value","div","times","minus","toFixed","dashoffset","dasharray","animate","viewBox","cx","cy","stroke","strokeDasharray","strokeDashoffset","Button","compact","outline","disabled","working","bg","fg","border","Card","margin","useAlpha","alpha","string","Icon","path","highlight","toggle","toggledFG","d","fill","Checkbox","value","onChange","onCheckboxChange","useCallback","marginRight","borderColor","mdiCheck","Content","Dialog","Divider","dragHandler","onDown","onMove","onEnd","pointer","e","data","pointerId","move","ev","stop","removeEventListener","addEventListener","passive","useDragHandler","config","deps","DragScroll","x","y","ignore","ignoreX","ignoreY","dragging","setDragging","allow","target","nodes","getElementsByClassName","i","length","node","item","contains","onDrag","allowX","allowY","currentTarget","screenX","screenY","scrollLeft","scrollTop","init","diff","min","max","scrollWidth","offsetWidth","scrollHeight","offsetHeight","onPointerDown","Drawer","stepsMatch","acceptStep","typeStep","pathsMatch","acceptPath","typePath","match","fileAccepted","file","accept","type","DropFiles","onDrop","over","setOver","handleDrop","dataTransfer","files","Array","from","filtered","dragover","preventDefault","drop","dragenter","relatedTarget","dragleave","window","mdiFileUploadOutline","Fab","hidden","text","Form","onSubmit","error","code","message","isEmail","email","regex","test","InputBase","display","label","required","spellcheck","validate","onBlur","onFocus","focus","setFocus","touched","setTouched","hasValue","_onChange","_onFocus","_onBlur","spellCheck","InputEmail","InputText","InputPassword","InputNumber","step","precision","units","toValue","parseFloat","toPrecision","setDisplay","parsed","onIncrease","plus","onDecrease","mdiChevronUp","mdiChevronDown","Input","Label","List","ListItem","MenuBar","setOpen","selection","setSelection","element","useRef","cb","current","o","ref","Children","map","child","selected","onPointerEnter","MenuBarItem","Option","Progress","Section","Select","direction","_display","forEach","displayAs","SortableContext","createContext","items","setItems","SortableContainer","Provider","getAbsoluteHeight","styles","getComputedStyle","ceil","getAbsoluteWidth","getInsertPointX","oldIndex","newIndex","box","getBoundingClientRect","insertCutOffPoint","left","clientX","index","getInsertPointY","top","clientY","getOffset","insertAt","offsetItemsBy","SortableItem","handle","shortid","useContext","useLayoutEffect","removeProperty","sorting","active","others","touchAction","button","entries","output","itemKey","moveTo","values","setProperty","_e","Subheader","Switch","Tab","TabExtended","setBar","offsetLeft","transition","Tabs","bar","Textarea","ToastEntry","toast","onDestroy","setHidden","selfCombustTimeout","setSelfCombustTimeout","onTimeout","duration","Toast","toasts","Fragment","Transition","useStyles","createTextNode","head","sheet","css","insertRule","MarkdownContent","markdown","theme","faded","html","converter","Converter","extensions","showdownHighlight","openLinksInNewWindow","__html","makeHtml","dangerouslySetInnerHTML","right","down","parse","win","isNumber","isBoolean","isArray","_key","__expanded","_val","useLog","obj","rootName","setWin","view","innerHTML","usePluralize","num","single","plural","useRainbow","count","len","offset","floor","_entry","base","useScrollListener","setY","scrollY","useTheme","metaThemeColor","querySelector","setAttribute","el","useTitle","title","useWindowResizeListener","innerWidth","setWidth","innerHeight","setHeight","chooseFiles","input","position","visibility","multiple","Promise","resolve","_reject","change","discarded","click","download","raw","content","JSON","stringify","blob","Blob","localUrl","URL","createObjectURL","a","href","revokeObjectURL","err","wait"],"mappings":"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"}