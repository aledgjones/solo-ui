{"version":3,"file":"solo-ui.cjs.development.js","sources":["../node_modules/style-inject/dist/style-inject.es.js","../src/utils/merge/index.ts","../src/components/appbar/index.tsx","../node_modules/babel-plugin-transform-async-to-promises/helpers.js","../src/components/avatar/colors.ts","../src/hooks/use-foreground/index.ts","../src/components/avatar/index.tsx","../src/components/backdrop/index.tsx","../src/hooks/use-delay-boolean/index.ts","../src/components/portal/index.ts","../src/components/bottom-sheet/index.tsx","../src/components/spinner/index.tsx","../src/components/button/index.tsx","../src/components/card/index.tsx","../src/hooks/use-alpha/index.ts","../src/components/icon/index.tsx","../src/components/checkbox/index.tsx","../src/components/content/index.tsx","../src/components/dialog/index.tsx","../src/components/divider/index.tsx","../src/components/drawer/index.tsx","../src/utils/file-accepted/index.ts","../src/components/drop-files/index.tsx","../src/components/fab/index.tsx","../src/components/form/index.tsx","../src/utils/error/index.ts","../src/utils/is-email/index.ts","../src/components/input-base/index.tsx","../src/components/input-email/index.tsx","../src/components/input-text/index.tsx","../src/components/input-password/index.tsx","../src/components/input-number/index.tsx","../src/components/input/index.tsx","../src/components/list-item/index.tsx","../src/components/option/index.tsx","../src/components/progress/index.tsx","../src/components/section/index.tsx","../src/components/select/index.tsx","../src/components/subheader/index.tsx","../src/components/switch/index.tsx","../src/components/tab/index.tsx","../src/components/tabs/tab.tsx","../src/components/tabs/index.tsx","../src/components/textarea/index.tsx","../src/components/toast/toast-entry.tsx","../src/components/toast/index.tsx","../src/components/transition/index.tsx","../src/hooks/use-styles/index.ts","../src/widgets/markdown-content/index.tsx","../src/hooks/use-log/index.ts","../src/hooks/use-pluralize/index.ts","../src/hooks/use-rainbow/index.ts","../src/hooks/use-scroll-listener/index.ts","../src/hooks/use-theme/index.ts","../src/hooks/use-window-resize/index.ts","../src/utils/choose-files/index.ts","../src/utils/wait/index.ts"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import isString from 'lodash.isstring';\r\nimport isObject from 'lodash.isobject';\r\n\r\n/**\r\n * Merge strings into single string with conditional inclusion. Useful for className strings \r\n * \r\n * merge('foo', 'bar') => 'foo bar';\r\n * merge('foo', {'bar': false}) => 'foo';\r\n */\r\nexport function merge(...args: Array<string | { [prop: string]: boolean | undefined } | undefined>) {\r\n\r\n    const out = args.reduce((arr: string[], arg = '') => {\r\n\r\n        // multiple classes\r\n        if (isString(arg)) {\r\n            const clean = arg.split(' ').filter(val => val !== '');\r\n            return [...arr, ...clean];\r\n        }\r\n\r\n        // toggle classes => only append if evaluates to true\r\n        if (isObject(arg)) {\r\n            const keys = Object.keys(arg);\r\n            const clean = keys.filter(key => {\r\n                return arg[key];\r\n            });\r\n            return [...arr, ...clean];\r\n        }\r\n\r\n        return arr;\r\n\r\n    }, []);\r\n\r\n    return out.join(' ');\r\n\r\n}","import React, { FC, CSSProperties } from 'react';\r\n\r\nimport { merge } from \"../../utils/merge\";\r\n\r\nimport './styles.css';\r\n\r\ninterface Props {\r\n    id?: string;\r\n    className?: string;\r\n    style?: CSSProperties;\r\n\r\n    shadow?: boolean;\r\n}\r\n/**\r\n * A basic top of screen app bar with dynamic shadow.\r\n */\r\nexport const Appbar: FC<Props> = ({ id, className, style, shadow, children }) => {\r\n    return <header\r\n        id={id}\r\n        className={merge('ui-appbar', { 'ui-appbar--shadow': shadow }, className)}\r\n        style={style}\r\n    >\r\n        <div className=\"ui-appbar__content\">\r\n            {children}\r\n        </div>\r\n    </header>;\r\n}","// A type of promise-like that resolves synchronously and supports only one observer\nexport const _Pact = /*#__PURE__*/(function() {\n\tfunction _Pact() {}\n\t_Pact.prototype.then = function(onFulfilled, onRejected) {\n\t\tconst result = new _Pact();\n\t\tconst state = this.s;\n\t\tif (state) {\n\t\t\tconst callback = state & 1 ? onFulfilled : onRejected;\n\t\t\tif (callback) {\n\t\t\t\ttry {\n\t\t\t\t\t_settle(result, 1, callback(this.v));\n\t\t\t\t} catch (e) {\n\t\t\t\t\t_settle(result, 2, e);\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t} else {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t}\n\t\tthis.o = function(_this) {\n\t\t\ttry {\n\t\t\t\tconst value = _this.v;\n\t\t\t\tif (_this.s & 1) {\n\t\t\t\t\t_settle(result, 1, onFulfilled ? onFulfilled(value) : value);\n\t\t\t\t} else if (onRejected) {\n\t\t\t\t\t_settle(result, 1, onRejected(value));\n\t\t\t\t} else {\n\t\t\t\t\t_settle(result, 2, value);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(result, 2, e);\n\t\t\t}\n\t\t};\n\t\treturn result;\n\t}\n\treturn _Pact;\n})();\n\n// Settles a pact synchronously\nexport function _settle(pact, state, value) {\n\tif (!pact.s) {\n\t\tif (value instanceof _Pact) {\n\t\t\tif (value.s) {\n\t\t\t\tif (state & 1) {\n\t\t\t\t\tstate = value.s;\n\t\t\t\t}\n\t\t\t\tvalue = value.v;\n\t\t\t} else {\n\t\t\t\tvalue.o = _settle.bind(null, pact, state);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tif (value && value.then) {\n\t\t\tvalue.then(_settle.bind(null, pact, state), _settle.bind(null, pact, 2));\n\t\t\treturn;\n\t\t}\n\t\tpact.s = state;\n\t\tpact.v = value;\n\t\tconst observer = pact.o;\n\t\tif (observer) {\n\t\t\tobserver(pact);\n\t\t}\n\t}\n}\n\nexport function _isSettledPact(thenable) {\n\treturn thenable instanceof _Pact && thenable.s & 1;\n}\n\n// Converts argument to a function that always returns a Promise\nexport function _async(f) {\n\treturn function() {\n\t\tfor (var args = [], i = 0; i < arguments.length; i++) {\n\t\t\targs[i] = arguments[i];\n\t\t}\n\t\ttry {\n\t\t\treturn Promise.resolve(f.apply(this, args));\n\t\t} catch(e) {\n\t\t\treturn Promise.reject(e);\n\t\t}\n\t}\n}\n\n// Awaits on a value that may or may not be a Promise (equivalent to the await keyword in ES2015, with continuations passed explicitly)\nexport function _await(value, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(value) : value;\n\t}\n\tif (!value || !value.then) {\n\t\tvalue = Promise.resolve(value);\n\t}\n\treturn then ? value.then(then) : value;\n}\n\n// Awaits on a value that may or may not be a Promise, then ignores it\nexport function _awaitIgnored(value, direct) {\n\tif (!direct) {\n\t\treturn value && value.then ? value.then(_empty) : Promise.resolve();\n\t}\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continue(value, then) {\n\treturn value && value.then ? value.then(then) : then(value);\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continueIgnored(value) {\n\tif (value && value.then) {\n\t\treturn value.then(_empty);\n\t}\n}\n\n// Asynchronously iterate through an object that has a length property, passing the index as the first argument to the callback (even as the length property changes)\nexport function _forTo(array, body, check) {\n\tvar i = -1, pact, reject;\n\tfunction _cycle(result) {\n\t\ttry {\n\t\t\twhile (++i < array.length && (!check || !check())) {\n\t\t\t\tresult = body(i);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (pact) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t} else {\n\t\t\t\tpact = result;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t}\n\t}\n\t_cycle();\n\treturn pact;\n}\n\n// Asynchronously iterate through an object's properties (including properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forIn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tkeys.push(key);\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\n// Asynchronously iterate through an object's own properties (excluding properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forOwn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tif (Object.prototype.hasOwnProperty.call(target, key)) {\n\t\t\tkeys.push(key);\n\t\t}\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\nexport const _iteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.iterator || (Symbol.iterator = Symbol(\"Symbol.iterator\"))) : \"@@iterator\";\n\n// Asynchronously iterate through an object's values\n// Uses for...of if the runtime supports it, otherwise iterates until length on a copy\nexport function _forOf(target, body, check) {\n\tif (typeof target[_iteratorSymbol] === \"function\") {\n\t\tvar iterator = target[_iteratorSymbol](), step, pact, reject;\n\t\tfunction _cycle(result) {\n\t\t\ttry {\n\t\t\t\twhile (!(step = iterator.next()).done && (!check || !check())) {\n\t\t\t\t\tresult = body(step.value);\n\t\t\t\t\tif (result && result.then) {\n\t\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (pact) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t} else {\n\t\t\t\t\tpact = result;\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t\t}\n\t\t}\n\t\t_cycle();\n\t\tif (iterator.return) {\n\t\t\tvar _fixup = function(value) {\n\t\t\t\ttry {\n\t\t\t\t\tif (!step.done) {\n\t\t\t\t\t\titerator.return();\n\t\t\t\t\t}\n\t\t\t\t} catch(e) {\n\t\t\t\t}\n\t\t\t\treturn value;\n\t\t\t}\n\t\t\tif (pact && pact.then) {\n\t\t\t\treturn pact.then(_fixup, function(e) {\n\t\t\t\t\tthrow _fixup(e);\n\t\t\t\t});\n\t\t\t}\n\t\t\t_fixup();\n\t\t}\n\t\treturn pact;\n\t}\n\t// No support for Symbol.iterator\n\tif (!(\"length\" in target)) {\n\t\tthrow new TypeError(\"Object is not iterable\");\n\t}\n\t// Handle live collections properly\n\tvar values = [];\n\tfor (var i = 0; i < target.length; i++) {\n\t\tvalues.push(target[i]);\n\t}\n\treturn _forTo(values, function(i) { return body(values[i]); }, check);\n}\n\nexport const _asyncIteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.asyncIterator || (Symbol.asyncIterator = Symbol(\"Symbol.asyncIterator\"))) : \"@@asyncIterator\";\n\n// Asynchronously iterate on a value using it's async iterator if present, or its synchronous iterator if missing\nexport function _forAwaitOf(target, body, check) {\n\tif (typeof target[_asyncIteratorSymbol] === \"function\") {\n\t\tvar pact = new _Pact();\n\t\tvar iterator = target[_asyncIteratorSymbol]();\n\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\treturn pact;\n\t\tfunction _resumeAfterBody(result) {\n\t\t\tif (check && check()) {\n\t\t\t\treturn _settle(pact, 1, iterator.return ? iterator.return().then(function() { return result; }) : result);\n\t\t\t}\n\t\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\t}\n\t\tfunction _resumeAfterNext(step) {\n\t\t\tif (step.done) {\n\t\t\t\t_settle(pact, 1);\n\t\t\t} else {\n\t\t\t\tPromise.resolve(body(step.value)).then(_resumeAfterBody).then(void 0, _reject);\n\t\t\t}\n\t\t}\n\t\tfunction _reject(error) {\n\t\t\t_settle(pact, 2, iterator.return ? iterator.return().then(function() { return error; }) : error);\n\t\t}\n\t}\n\treturn Promise.resolve(_forOf(target, function(value) { return Promise.resolve(value).then(body); }, check));\n}\n\n// Asynchronously implement a generic for loop\nexport function _for(test, update, body) {\n\tvar stage;\n\tfor (;;) {\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t\tif (shouldContinue.then) {\n\t\t\tstage = 0;\n\t\t\tbreak;\n\t\t}\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.s;\n\t\t\t} else {\n\t\t\t\tstage = 1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (update) {\n\t\t\tvar updateValue = update();\n\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\tstage = 2;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tvar pact = new _Pact();\n\tvar reject = _settle.bind(null, pact, 2);\n\t(stage === 0 ? shouldContinue.then(_resumeAfterTest) : stage === 1 ? result.then(_resumeAfterBody) : updateValue.then(_resumeAfterUpdate)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tdo {\n\t\t\tif (update) {\n\t\t\t\tupdateValue = update();\n\t\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\t\tupdateValue.then(_resumeAfterUpdate).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tshouldContinue = test();\n\t\t\tif (!shouldContinue || (_isSettledPact(shouldContinue) && !shouldContinue.v)) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t}\n\t\t} while (!result || !result.then);\n\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterBody(result);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n\tfunction _resumeAfterUpdate() {\n\t\tif (shouldContinue = test()) {\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterTest(shouldContinue);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a do ... while loop\nexport function _do(body, test) {\n\tvar awaitBody;\n\tdo {\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t} else {\n\t\t\t\tawaitBody = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t} while (!shouldContinue.then);\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : shouldContinue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tfor (;;) {\n\t\t\tshouldContinue = test();\n\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t}\n\t\t\tif (!shouldContinue) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\tresult = result.v;\n\t\t\t\t} else {\n\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tdo {\n\t\t\t\tresult = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tshouldContinue = test();\n\t\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t\t}\n\t\t\t\tif (!shouldContinue) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} while (!shouldContinue.then);\n\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a switch statement\nexport function _switch(discriminant, cases) {\n\tvar dispatchIndex = -1;\n\tvar awaitBody;\n\touter: {\n\t\tfor (var i = 0; i < cases.length; i++) {\n\t\t\tvar test = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvar testValue = test();\n\t\t\t\tif (testValue && testValue.then) {\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tif (testValue === discriminant) {\n\t\t\t\t\tdispatchIndex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Found the default case, set it as the pending dispatch case\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tif (dispatchIndex !== -1) {\n\t\t\tdo {\n\t\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\t\twhile (!body) {\n\t\t\t\t\tdispatchIndex++;\n\t\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t\t}\n\t\t\t\tvar result = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tawaitBody = true;\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\t\tdispatchIndex++;\n\t\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t\treturn result;\n\t\t}\n\t}\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : testValue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterTest(value) {\n\t\tfor (;;) {\n\t\t\tif (value === discriminant) {\n\t\t\t\tdispatchIndex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (++i === cases.length) {\n\t\t\t\tif (dispatchIndex !== -1) {\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttest = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvalue = test();\n\t\t\t\tif (value && value.then) {\n\t\t\t\t\tvalue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tdo {\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tvar result = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tdispatchIndex++;\n\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterBody(result) {\n\t\tfor (;;) {\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tif (!fallthroughCheck || fallthroughCheck()) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdispatchIndex++;\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _call(body, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(body()) : body();\n\t}\n\ttry {\n\t\tvar result = Promise.resolve(body());\n\t\treturn then ? result.then(then) : result;\n\t} catch (e) {\n\t\treturn Promise.reject(e);\n\t}\n}\n\n// Asynchronously call a function and swallow the result\nexport function _callIgnored(body, direct) {\n\treturn _call(body, _empty, direct);\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _invoke(body, then) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(then);\n\t}\n\treturn then(result);\n}\n\n// Asynchronously call a function and swallow the result\nexport function _invokeIgnored(body) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(_empty);\n\t}\n}\n\n// Asynchronously call a function and send errors to recovery continuation\nexport function _catch(body, recover) {\n\ttry {\n\t\tvar result = body();\n\t} catch(e) {\n\t\treturn recover(e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(void 0, recover);\n\t}\n\treturn result;\n}\n\n// Asynchronously await a promise and pass the result to a finally continuation\nexport function _finallyRethrows(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer(true, e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer.bind(null, false), finalizer.bind(null, true));\n\t}\n\treturn finalizer(false, result);\n}\n\n// Asynchronously await a promise and invoke a finally continuation that always overrides the result\nexport function _finally(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer();\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer, finalizer);\n\t}\n\treturn finalizer();\n}\n\n// Rethrow or return a value from a finally continuation\nexport function _rethrow(thrown, value) {\n\tif (thrown)\n\t\tthrow value;\n\treturn value;\n}\n\n// Empty function to implement break and other control flow that ignores asynchronous results\nexport function _empty() {\n}\n\n// Sentinel value for early returns in generators \nexport const _earlyReturn = /*#__PURE__*/ {};\n\n// Asynchronously call a function and send errors to recovery continuation, skipping early returns\nexport function _catchInGenerator(body, recover) {\n\treturn _catch(body, function(e) {\n\t\tif (e === _earlyReturn) {\n\t\t\tthrow e;\n\t\t}\n\t\treturn recover(e);\n\t});\n}\n\n// Asynchronous generator class; accepts the entrypoint of the generator, to which it passes itself when the generator should start\nexport const _AsyncGenerator = /*#__PURE__*/(function() {\n\tfunction _AsyncGenerator(entry) {\n\t\tthis._entry = entry;\n\t\tthis._pact = null;\n\t\tthis._resolve = null;\n\t\tthis._return = null;\n\t\tthis._promise = null;\n\t}\n\n\tfunction _wrapReturnedValue(value) {\n\t\treturn { value: value, done: true };\n\t}\n\tfunction _wrapYieldedValue(value) {\n\t\treturn { value: value, done: false };\n\t}\n\n\t_AsyncGenerator.prototype._yield = function(value) {\n\t\t// Yield the value to the pending next call\n\t\tthis._resolve(value && value.then ? value.then(_wrapYieldedValue) : _wrapYieldedValue(value));\n\t\t// Return a pact for an upcoming next/return/throw call\n\t\treturn this._pact = new _Pact();\n\t};\n\t_AsyncGenerator.prototype.next = function(value) {\n\t\t// Advance the generator, starting it if it has yet to be started\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tconst _entry = _this._entry;\n\t\t\t\tif (_entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the next call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Start the generator\n\t\t\t\t_this._entry = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\tfunction returnValue(value) {\n\t\t\t\t\t_this._resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t_this._resolve = null;\n\t\t\t\t}\n\t\t\t\tvar result = _entry(_this);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tresult.then(returnValue, function(error) {\n\t\t\t\t\t\tif (error === _earlyReturn) {\n\t\t\t\t\t\t\treturnValue(_this._return);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst pact = new _Pact();\n\t\t\t\t\t\t\t_this._resolve(pact);\n\t\t\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t\t\t_this._resolve = null;\n\t\t\t\t\t\t\t_resolve(pact, 2, error);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\treturnValue(result);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Generator is started and a yield expression is pending, settle it\n\t\t\t\t_this._pact = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\t_settle(_pact, 1, value);\n\t\t\t}\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.return = function(value) {\n\t\t// Early return from the generator if started, otherwise abandons the generator\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the return call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return the specified value\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t}\n\t\t\t// Settle the yield expression with a rejected \"early return\" value\n\t\t\t_this._return = value;\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, _earlyReturn);\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.throw = function(error) {\n\t\t// Inject an exception into the pending yield expression\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve, reject) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the throw call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return a rejected Promise containing the error\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn reject(error);\n\t\t\t}\n\t\t\t// Settle the yield expression with the value as a rejection\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, error);\n\t\t});\n\t};\n\n\t_AsyncGenerator.prototype[_asyncIteratorSymbol] = function() {\n\t\treturn this;\n\t};\n\t\n\treturn _AsyncGenerator;\n})();\n","export const colors: {[letter: string]: string} = {\r\n    'A': '#1abc9c',\r\n    'B': '#2ecc71',\r\n    'C': '#3498db',\r\n    'D': '#9b59b6',\r\n    'E': '#34495e',\r\n    'F': '#16a085',\r\n    'G': '#27ae60',\r\n    'H': '#2980b9',\r\n    'I': '#8e44ad',\r\n    'J': '#2c3e50',\r\n    'K': '#f1c40f',\r\n    'L': '#e67e22',\r\n    'M': '#e74c3c',\r\n    'N': '#ecf0f1',\r\n    'O': '#95a5a6',\r\n    'P': '#2ecc71',\r\n    'Q': '#d35400',\r\n    'R': '#c0392b',\r\n    'S': '#bdc3c7',\r\n    'T': '#7f8c8d',\r\n    'U': '#f39c12',\r\n    'V': '#f1c40f',\r\n    'W': '#16a085',\r\n    'X': '#2c3e50',\r\n    'Y': '#27ae60',\r\n    'Z': '#d35400',\r\n};","import { useMemo } from \"react\";\r\nimport Color from \"color\";\r\n\r\n/**\r\n * Hook: returns white on dark colors, black on light;\r\n */\r\nexport function useForeground(color: string) {\r\n    return useMemo(() => Color(color).isDark() ? '#ffffff' : '#000000', [color]);\r\n}","import React, { FC, useState, useEffect } from 'react';\r\n\r\nimport { colors } from './colors';\r\nimport { merge } from '../../utils/merge';\r\nimport { useForeground } from '../../hooks/use-foreground';\r\n\r\nimport './styles.css';\r\n\r\ninterface Props {\r\n    id?: string;\r\n    className?: string;\r\n    style?: React.CSSProperties;\r\n\r\n    src?: string;\r\n    name: string;\r\n    size: number;\r\n}\r\n\r\n/**\r\n * Avatar component. Displays image else falls back to GMail style colored circle and letter.\r\n */\r\nexport const Avatar: FC<Props> = ({ id, className, style, src, name, size }) => {\r\n\r\n    const letter = name.slice(0, 1).toUpperCase();\r\n    const background = colors[letter] || 'rgb(200,200,200)';\r\n    const foreground = useForeground(background);\r\n\r\n    const [isImageValid, setIsImageValid] = useState(false);\r\n\r\n    useEffect(() => {\r\n        let didCancel = false;\r\n\r\n        async function checkImageExists(src: string) {\r\n            setIsImageValid(false);\r\n            try {\r\n                await fetch(src, { mode: 'no-cors' });\r\n                if (!didCancel) {\r\n                    setIsImageValid(true);\r\n                }\r\n            } catch {\r\n                // no catch as isImageValid is already false;\r\n            }\r\n        }\r\n\r\n        if (src) {\r\n            checkImageExists(src);\r\n        }\r\n\r\n        return () => { didCancel = true };\r\n    }, [src]);\r\n\r\n    return <div\r\n        id={id}\r\n        className={merge('ui-avatar', className)}\r\n        style={{\r\n            height: size,\r\n            width: size,\r\n            fontSize: size * .6,\r\n            color: foreground,\r\n            backgroundColor: background,\r\n            backgroundImage: isImageValid ? `url(${src})` : undefined,\r\n            ...style\r\n        }}\r\n    >\r\n        {!isImageValid && <span className=\"ui-avatar__letter\">{letter}</span>}\r\n    </div>\r\n\r\n}\r\n\r\n","import React, { CSSProperties } from 'react';\r\n\r\nimport { merge } from '../../utils/merge';\r\n\r\nimport './styles.css';\r\n\r\ninterface Props {\r\n    id?: string;\r\n    className?: string;\r\n    style?: CSSProperties;\r\n\r\n    open: boolean;\r\n    transparent?: boolean;\r\n    onClick?: () => void;\r\n}\r\n\r\n/**\r\n * Backdrop component used for overlays (dialogs, sheets etc.)\r\n */\r\nexport const Backdrop: React.FC<Props> = ({ id, className, open, transparent, onClick }) => {\r\n    return <div\r\n        id={id}\r\n        className={merge('ui-backdrop', className, { 'ui-backdrop--visible': open, 'ui-backdrop--transparent': transparent })}\r\n        onClick={onClick}\r\n    />\r\n}","import { useState, useEffect } from \"react\";\r\n\r\n/**\r\n * Hook: Delay a boolean change by a fixed time (used to delay an overlay destruction after hidden)\r\n */\r\nexport function useDelayBoolean(master: boolean, delay: number) {\r\n    const [slave, setSlave] = useState(false);\r\n    \r\n    useEffect(() => {\r\n        let timeout: any;\r\n        if (master) {\r\n            setSlave(true);\r\n        } else {\r\n            timeout = setTimeout(() => setSlave(false), delay);\r\n        }\r\n        return () => {\r\n            if (timeout) {\r\n                clearTimeout(timeout);\r\n            }\r\n        }\r\n    }, [master, delay]);\r\n\r\n    return slave;\r\n}","import { useEffect, useState, FC } from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport './styles.css';\r\n\r\n/**\r\n * Create a portal. Useful to contain dialogs, overlays etc.\r\n */\r\nexport const Portal: FC = ({ children }) => {\r\n\r\n    const [container, setContainer] = useState<HTMLDivElement>();\r\n\r\n    useEffect(() => {\r\n\r\n        const $container = document.createElement('div');\r\n        $container.className = 'ui-portal';\r\n        document.body.appendChild($container);\r\n        setContainer($container);\r\n\r\n        return () => {\r\n            $container.remove();\r\n        }\r\n\r\n    }, []);\r\n\r\n    if (container) {\r\n        return ReactDOM.createPortal(children, container);\r\n    } else {\r\n        return null;\r\n    }\r\n}","import React, { CSSProperties, FC, ReactNode } from 'react';\r\n\r\nimport { useDelayBoolean } from '../../hooks/use-delay-boolean';\r\nimport { merge } from '../../utils/merge';\r\nimport { Portal } from '../portal';\r\nimport { Backdrop } from '../backdrop';\r\n\r\nimport './styles.css';\r\n\r\ninterface Props {\r\n    id?: string;\r\n    className?: string;\r\n    style?: CSSProperties;\r\n\r\n    width: number;\r\n\r\n    open: boolean;\r\n    onClose: () => void;\r\n    children: () => ReactNode;\r\n}\r\n\r\n/**\r\n * Bottom Sheet component for displaying contexual actions.\r\n */\r\nexport const BottomSheet: FC<Props> = ({ id, className, style, width, open, onClose, children }) => {\r\n\r\n    const render = useDelayBoolean(open, 500);\r\n\r\n    return <Portal>\r\n        <Backdrop open={open} onClick={onClose} />\r\n        <div\r\n            id={id}\r\n            className={merge(\"ui-bottom-sheet\", className)}\r\n            style={{\r\n                maxWidth: width,\r\n                maxHeight: '100vh', // TO DO expanded state uses this\r\n                overflow: 'auto',\r\n                transform: open ? 'translate(-50%, -100%)' : 'translate(-50%, 0)',\r\n                ...style\r\n            }}\r\n        >\r\n            {render && children()}\r\n        </div>\r\n    </ Portal>;\r\n}","import React, { CSSProperties, FC, useMemo } from 'react';\r\nimport Big from 'big.js';\r\n\r\nimport { merge } from '../../utils/merge';\r\n\r\nimport './styles.css';\r\n\r\ninterface Props {\r\n    id?: string;\r\n    className?: string;\r\n    style?: CSSProperties;\r\n\r\n    size: number;\r\n    color: string;\r\n    percent?: number;\r\n}\r\n\r\n/**\r\n * A spinner which can be indeterminate or determinate to denote working states or progress.\r\n */\r\nexport const Spinner: FC<Props> = ({ id, className, style, size, color, percent }) => {\r\n\r\n    const [dashoffset, dasharray] = useMemo(() => {\r\n        if (percent !== undefined) {\r\n            const r = 20;\r\n            const c = new Big(2 * Math.PI * r); // circumference @ r=20;\r\n            const _value = new Big(percent).div(100).times(c);\r\n            return [c.minus(_value).toFixed(2), c.toFixed(2)];\r\n        } else {\r\n            return [undefined, undefined];\r\n        }\r\n    }, [percent]);\r\n\r\n    const animate = percent === undefined;\r\n\r\n    return <svg\r\n        id={id}\r\n        className={merge(\r\n            'ui-spinner',\r\n            { 'ui-spinner--animate': animate },\r\n            className\r\n        )}\r\n        style={{\r\n            height: size,\r\n            width: size,\r\n            ...style\r\n        }}\r\n        viewBox=\"25 25 50 50\"\r\n    >\r\n        {!animate && <circle\r\n            className=\"ui-spinner__circle\"\r\n            cx=\"50\"\r\n            cy=\"50\"\r\n            r=\"20\"\r\n            stroke=\"rgb(175, 175, 175)\"\r\n        />}\r\n        <circle\r\n            className=\"ui-spinner__circle\"\r\n            cx=\"50\"\r\n            cy=\"50\"\r\n            r=\"20\"\r\n            stroke={color}\r\n            strokeDasharray={dasharray}\r\n            strokeDashoffset={dashoffset}\r\n        />\r\n    </svg>;\r\n}","import React, { MouseEvent, CSSProperties, FC, useMemo } from 'react';\r\n\r\nimport { merge } from '../../utils/merge';\r\nimport { useForeground } from '../../hooks/use-foreground';\r\nimport { Spinner } from '../spinner';\r\n\r\nimport './styles.css';\r\n\r\ninterface Props {\r\n    id?: string;\r\n    className?: string;\r\n    style?: CSSProperties;\r\n    color: string;\r\n\r\n    compact?: boolean;\r\n    outline?: boolean;\r\n    disabled?: boolean;\r\n    working?: boolean;\r\n\r\n    onClick?: (e: MouseEvent<HTMLButtonElement>) => void;\r\n}\r\n\r\n/**\r\n * Button component with optional outline-only styling.\r\n */\r\nexport const Button: FC<Props> = ({ id, className, style, children, compact, outline, color, disabled, working, onClick }) => {\r\n\r\n    const bg = useMemo(() => {\r\n        if (outline) {\r\n            return 'transparent';\r\n        } else {\r\n            return color;\r\n        }\r\n    }, [color, outline]);\r\n\r\n    const fg = useForeground(bg);\r\n\r\n    return <button\r\n        id={id}\r\n        className={merge('ui-button', { 'ui-button--compact': compact, 'ui-button--disabled': disabled || working }, className)}\r\n        style={{ color: outline ? color : fg, backgroundColor: bg, border: `1px solid ${outline ? color : bg}`, ...style }}\r\n        onClick={onClick}\r\n    >\r\n        {working && <Spinner className=\"ui-spinner--button\" size={16} color=\"rgb(84,84,84)\" />}\r\n        {children}\r\n    </button>;\r\n}","import React, { FC, CSSProperties } from 'react';\r\n\r\nimport { merge } from '../../utils/merge';\r\n\r\nimport './styles.css';\r\n\r\ninterface Props {\r\n    id?: string;\r\n    className?: string;\r\n    style?: CSSProperties;\r\n\r\n    margin?: boolean;\r\n    animate?: boolean;\r\n}\r\n\r\n/**\r\n * Generic card component.\r\n */\r\nexport const Card: FC<Props> = ({ id, className, style, children, margin, animate }) => {\r\n    return <div\r\n        id={id}\r\n        className={merge('ui-card', { 'ui-card--margin': margin, 'ui-card--animate': animate }, className)}\r\n        style={style}\r\n    >\r\n        {children}\r\n    </div>;\r\n}","import { useMemo } from \"react\";\r\nimport Color from \"color\";\r\n\r\n/**\r\n * Hook: sets the alpha value of a color.\r\n */\r\nexport function useAlpha(color: string, alpha: number) {\r\n    return useMemo(() => Color(color).alpha(alpha).string(), [color, alpha]);\r\n}","import React, { MouseEvent, FC, CSSProperties } from 'react';\r\n\r\nimport { merge } from '../../utils/merge';\r\nimport { useAlpha } from '../../hooks/use-alpha';\r\nimport { useForeground } from '../../hooks/use-foreground';\r\n\r\nimport './styles.css';\r\n\r\ninterface Props {\r\n    id?: string;\r\n    className?: string;\r\n    style?: CSSProperties;\r\n\r\n    path: string;\r\n    size: number;\r\n    color: string;\r\n    highlight?: string;\r\n    disabled?: boolean;\r\n    toggle?: boolean;\r\n\r\n    onClick?: (e: MouseEvent<HTMLDivElement>) => void;\r\n}\r\n\r\n/**\r\n * Icon which takes an svg path and renders.\r\n */\r\nexport const Icon: FC<Props> = ({ id, className, style, path, size, color, highlight, disabled, toggle, onClick }) => {\r\n\r\n    const bg = useAlpha(color, .1);\r\n    const toggledFG = useForeground(highlight || color);\r\n\r\n    return <div\r\n        id={id}\r\n        className={merge('ui-icon', { 'ui-icon--disabled': disabled, 'ui-icon--hover': !!onClick }, className)}\r\n        style={{ width: size, height: size, ...style }}\r\n        onClick={onClick}\r\n    >\r\n        <div className=\"ui-icon__touch-target\" />\r\n        <svg className=\"ui-icon__svg\" viewBox=\"0 0 24 24\" style={{ width: size, height: size }}>\r\n            <path d={path} style={{ fill: toggle ? toggledFG : color }} />\r\n        </svg>\r\n        <div className={merge(\"ui-icon__blob\", { 'ui-icon__blob--toggle': toggle })} style={{ backgroundColor: toggle ? (highlight || color) : bg }} />\r\n    </div >\r\n}","import React, { FC, useCallback, CSSProperties } from 'react';\r\nimport { mdiCheck } from '@mdi/js';\r\n\r\nimport { merge } from '../../utils/merge';\r\nimport { useForeground } from '../../hooks/use-foreground';\r\nimport { Icon } from '../icon';\r\n\r\nimport './styles.css';\r\n\r\ninterface Props {\r\n    id?: string;\r\n    className?: string;\r\n    style?: CSSProperties;\r\n\r\n    value: boolean;\r\n    color: string;\r\n    margin?: boolean;\r\n    disabled?: boolean;\r\n    onChange: (value: boolean) => void;\r\n}\r\n\r\n/**\r\n * Chackbox component for boolean values.\r\n */\r\nexport const Checkbox: FC<Props> = ({ id, className, style, children, value, color, onChange, disabled, margin }) => {\r\n\r\n    const onCheckboxChange = useCallback(() => onChange(!value), [value, onChange]);\r\n    const fg = useForeground(color);\r\n\r\n    return <div\r\n        id={id}\r\n        className={merge(\r\n            'ui-checkbox',\r\n            {\r\n                'ui-checkbox--active': value,\r\n                'ui-checkbox--margin': margin,\r\n                'ui-checkbox--disabled': disabled\r\n            },\r\n            className\r\n        )}\r\n        style={style}\r\n        onClick={onCheckboxChange}\r\n    >\r\n        <div\r\n            className=\"ui-checkbox__inner\"\r\n            style={{\r\n                marginRight: children ? 20 : 0,\r\n                borderColor: value ? color : undefined,\r\n                backgroundColor: value ? color : undefined\r\n            }}>\r\n            {value && <Icon size={16} color={fg} className=\"ui-checkbox__icon\" path={mdiCheck} />}\r\n        </div>\r\n        {children && <div className=\"ui-checkbox__label\">{children}</div>}\r\n    </div>;\r\n}","import React, { FC, CSSProperties } from 'react';\r\n\r\nimport { merge } from '../../utils/merge';\r\n\r\nimport './styles.css';\r\n\r\ninterface Props {\r\n    id?: string;\r\n    className?: string;\r\n    style?: CSSProperties;\r\n}\r\n\r\n/**\r\n * Content component with default padding.\r\n */\r\nexport const Content: FC<Props> = ({ id, className, style, children }) => {\r\n    return <div\r\n        id={id}\r\n        className={merge('ui-content', className)}\r\n        style={style}\r\n    >\r\n        {children}\r\n    </div>;\r\n}","import React, { FC, CSSProperties, ReactNode } from 'react';\r\n\r\nimport { Portal } from '../portal';\r\nimport { merge } from '../../utils/merge';\r\nimport { Backdrop } from '../backdrop';\r\nimport { Card } from '../card';\r\nimport { useDelayBoolean } from '../../hooks/use-delay-boolean';\r\n\r\nimport './styles.css';\r\n\r\ninterface Props {\r\n    id?: string;\r\n    className?: string;\r\n    style?: CSSProperties;\r\n\r\n    width?: number;\r\n    open: boolean;\r\n    children: () => ReactNode;\r\n}\r\n\r\n/**\r\n * Dialog component for displaying related but long form actions.\r\n */\r\nexport const Dialog: FC<Props> = ({ id, className, style, width, open, children }) => {\r\n\r\n    const render = useDelayBoolean(open, 500);\r\n\r\n    return <Portal>\r\n        <Backdrop className=\"ui-dialog__backdrop\" open={open} />\r\n        <div id={id} className={merge(\"ui-dialog\", className, { 'ui-dialog--show': open })} >\r\n            <Card\r\n                className=\"ui-dialog__card\"\r\n                style={{ maxWidth: width, ...style }}\r\n            >\r\n                {render && children()}\r\n            </Card>\r\n        </div>\r\n    </Portal >\r\n\r\n}","import React, { CSSProperties, FC } from 'react';\r\n\r\nimport { merge } from '../../utils/merge';\r\n\r\nimport './styles.css';\r\n\r\ninterface Props {\r\n    id?: string;\r\n    className?: string;\r\n    style?: CSSProperties;\r\n    compact?: boolean;\r\n}\r\n\r\n/**\r\n * Simple devider component.\r\n */\r\nexport const Divider: FC<Props> = ({ id, className, style, children, compact }) => {\r\n    return <div\r\n        id={id}\r\n        className={merge('ui-divider', { 'ui-divider--compact': compact }, className)}\r\n        style={style}\r\n    >\r\n        {children}\r\n    </div>;\r\n}","import React, { CSSProperties, FC, ReactNode } from 'react';\r\n\r\nimport { merge } from '../../utils/merge';\r\nimport { useDelayBoolean } from '../../hooks/use-delay-boolean';\r\nimport { Portal } from '../portal';\r\nimport { Backdrop } from '../backdrop';\r\n\r\nimport './styles.css';\r\n\r\ninterface Props {\r\n    id?: string;\r\n    className?: string;\r\n    style?: CSSProperties;\r\n\r\n    width: number;\r\n    open: boolean;\r\n\r\n    // events may happen that closes/opens from within component\r\n    onClose: () => void;\r\n    children: () => ReactNode;\r\n}\r\n\r\n/**\r\n * App drawer component.\r\n */\r\nexport const Drawer: FC<Props> = ({ id, className, style, children, open, width, onClose }) => {\r\n\r\n    const render = useDelayBoolean(open, 500);\r\n\r\n    return <Portal>\r\n        <Backdrop open={open} onClick={onClose} />\r\n        <div\r\n            id={id}\r\n            className={merge('ui-drawer', className)}\r\n            style={{\r\n                maxWidth: width,\r\n                transform: `translate3d(${open ? 0 : '-100%'}, 0, 0)`,\r\n                ...style\r\n            }}\r\n        >\r\n            {render && children()}\r\n        </div>\r\n    </Portal>;\r\n\r\n}","function stepsMatch(acceptStep: string, typeStep: string) {\r\n    return acceptStep === '*' || acceptStep === typeStep;\r\n}\r\n\r\nfunction pathsMatch(acceptPath: string[], typePath: string[]): boolean {\r\n    for (let i = 0; i < acceptPath.length; i++) {\r\n        const match = stepsMatch(acceptPath[i], typePath[i]);\r\n        if (!match) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\n\r\n/**\r\n *  Checks if a file type is accepted. Always return true if no accept param.\r\n */\r\nexport function fileAccepted(file: File, accept: string[] = []): boolean {\r\n    // no accept length implies all accepted\r\n    if (accept.length === 0) {\r\n        return true;\r\n    }\r\n\r\n    const typePath = file.type.split('/');\r\n\r\n    for (let i = 0; i < accept.length; i++) {\r\n        const acceptPath = accept[i].split('/');\r\n        const match = pathsMatch(acceptPath, typePath);\r\n        if (match) {\r\n            // return true if any match \r\n            return true;\r\n        }\r\n    }\r\n\r\n    return false;\r\n}","import React, { useCallback, useState, useEffect, CSSProperties, FC } from 'react';\r\nimport { mdiFileUploadOutline } from '@mdi/js';\r\n\r\nimport { fileAccepted } from '../../utils/file-accepted';\r\nimport { merge } from '../../utils/merge';\r\nimport { Icon } from '../icon';\r\n\r\nimport './styles.css';\r\n\r\ninterface Props {\r\n    id?: string;\r\n    className?: string;\r\n    style?: CSSProperties;\r\n\r\n    accept?: string[],\r\n    onDrop: (files: File[], discarded: number) => void;\r\n}\r\n\r\n/**\r\n * A dropzone component for dropping files into the UI\r\n */\r\nexport const DropFiles: FC<Props> = ({ id, className, style, children, accept, onDrop }) => {\r\n\r\n    const [over, setOver] = useState(false);\r\n\r\n    const handleDrop = useCallback((e: React.DragEvent<HTMLDivElement>) => {\r\n        if (e.dataTransfer.files.length > 0) {\r\n            const files = Array.from(e.dataTransfer.files);\r\n            const filtered = files.filter(file => fileAccepted(file, accept));\r\n            onDrop(filtered, files.length - filtered.length);\r\n        }\r\n    }, [accept, onDrop]);\r\n\r\n    useEffect(() => {\r\n\r\n        // prevent defaults makes drag and drop work\r\n        const dragover = (e: Event) => {\r\n            e.preventDefault();\r\n        }\r\n\r\n        const drop = (e: Event) => {\r\n            e.preventDefault();\r\n            setOver(false);\r\n        }\r\n\r\n        const dragenter = (e: any) => {\r\n            // if we don't have an element we have come from, we are coming from outside the window\r\n            if (e.relatedTarget == null) {\r\n                setOver(true);\r\n            };\r\n        }\r\n\r\n        const dragleave = (e: any) => {\r\n            // if we don't have an element we are going to, we are going outside the window\r\n            if (e.relatedTarget == null) {\r\n                setOver(false);\r\n            };\r\n        }\r\n\r\n        window.addEventListener('drop', drop, { passive: true });\r\n        window.addEventListener('dragenter', dragenter, { passive: true });\r\n        window.addEventListener('dragleave', dragleave, { passive: true });\r\n        window.addEventListener('dragover', dragover, { passive: true });\r\n\r\n        return () => {\r\n            window.removeEventListener('drop', drop);\r\n            window.removeEventListener('dragenter', dragenter);\r\n            window.removeEventListener('dragleave', dragleave);\r\n            window.removeEventListener('dragenter', dragover);\r\n        }\r\n\r\n    }, []);\r\n\r\n    return <div\r\n        id={id}\r\n        className={merge('ui-dropzone', className)}\r\n        onDrop={handleDrop}\r\n        style={style}\r\n    >\r\n        {children}\r\n        {over && <div className=\"ui-dropzone__hover-container\">\r\n            <div className=\"ui-dropzone__hover-content\">\r\n                <Icon path={mdiFileUploadOutline} size={48} color=\"#aaaaaa\" />\r\n                <p className=\"ui-dropzone__hover-text\">Drop files here</p>\r\n            </div>\r\n        </div>}\r\n    </div>;\r\n}","import React, { CSSProperties, MouseEvent, FC } from 'react';\r\n\r\nimport { useForeground } from '../../hooks/use-foreground';\r\nimport { merge } from '../../utils/merge';\r\nimport { Icon } from '../icon';\r\n\r\nimport './styles.css';\r\n\r\ninterface Props {\r\n    id?: string;\r\n    className?: string;\r\n    style?: CSSProperties;\r\n\r\n    path: string;\r\n    color: string;\r\n    text: string;\r\n    compact?: boolean;\r\n    hidden?: boolean;\r\n\r\n    onClick?: (e: MouseEvent<HTMLDivElement>) => void;\r\n}\r\n\r\n/**\r\n * Floating action button (FAB)\r\n */\r\nexport const Fab: FC<Props> = ({ id, className, style, path, color, onClick, compact, hidden, text }) => {\r\n\r\n    const fg = useForeground(color);\r\n\r\n    return <div\r\n        id={id}\r\n        className={merge('ui-fab', { 'ui-fab--hidden': hidden }, className)}\r\n        style={{ backgroundColor: color, color: fg, ...style }}\r\n        onClick={onClick}\r\n    >\r\n        <Icon size={24} path={path} color={fg} />\r\n        <div className={merge(\"ui-fab__text\", { 'ui-fab__text--hidden': compact })}>\r\n            {text}\r\n        </div>\r\n    </div>;\r\n}","import React, { FC, CSSProperties } from 'react';\r\n\r\nimport { merge } from '../../utils/merge';\r\n\r\ninterface Props {\r\n    id?: string;\r\n    className?: string;\r\n    style?: CSSProperties;\r\n}\r\n\r\n/**\r\n * Form element with onSubmit prevented by default.\r\n */\r\nexport const Form: FC<Props> = ({ id, className, style, children }) => {\r\n    return <form\r\n        id={id}\r\n        className={merge('ui-form', className)}\r\n        style={style}\r\n        onSubmit={e => e.preventDefault()}\r\n    >\r\n        {children}\r\n    </form>;\r\n}","export interface Error {\r\n    code: string;\r\n    message: string;\r\n}\r\n\r\n/**\r\n * Generate an error object, useful for throwing inside a catch block.\r\n */\r\nexport function error(code: string = \"@general/unknown-error\", message: string = \"Something went wrong. Please try again.\"): Error {\r\n    return { code, message };\r\n}","/**\r\n * Checks if an email is valid\r\n */\r\nexport function isEmail(email: string) {\r\n    // from [https://emailregex.com/](https://emailregex.com/)\r\n    const regex = /(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])/\r\n    return regex.test(email);\r\n}","import React, { FC, useState, useMemo, useCallback, ChangeEvent } from 'react';\r\n\r\nimport { merge } from '../../utils/merge';\r\nimport { InternalInputBaseProps } from './defs';\r\n\r\nimport './styles.css';\r\n\r\nexport const InputBase: FC<InternalInputBaseProps> = ({ id, className, style, type, display, label, margin, required, color, disabled, spellcheck, validate, onChange, onBlur, onFocus, children }) => {\r\n\r\n    const [focus, setFocus] = useState<boolean>(false);\r\n    const [touched, setTouched] = useState(false);\r\n\r\n    const error = touched ? validate(display) : null;\r\n    const hasValue = display !== undefined && display !== null && display !== '';\r\n\r\n    const _onChange = useCallback((e: ChangeEvent<HTMLInputElement>) => onChange(e.target.value), [onChange]);\r\n\r\n    const _onFocus = useCallback(() => {\r\n        if (onFocus) {\r\n            onFocus();\r\n        }\r\n        setFocus(true);\r\n    }, [onFocus]);\r\n\r\n    const _onBlur = useCallback(() => {\r\n        if (onBlur) {\r\n            onBlur();\r\n        }\r\n        setFocus(false);\r\n        setTouched(true);\r\n    }, [onBlur]);\r\n\r\n    const highlight = useMemo(() => {\r\n        if (disabled) {\r\n            return undefined;\r\n        }\r\n        if (error) {\r\n            return '#ff6347';\r\n        };\r\n        if (focus) {\r\n            return color;\r\n        }\r\n        return undefined;\r\n    }, [disabled, error, focus, color]);\r\n\r\n    return <div\r\n        id={id}\r\n        className={merge('ui-input', { 'ui-input--disabled': disabled, 'ui-input--margin': margin }, className)}\r\n    >\r\n        {label && <p style={{ color: highlight }} className={merge(\"ui-input__label\", { 'ui-input__label--float': focus || hasValue })}>{label}{required && '*'}</p>}\r\n        <div\r\n            className=\"ui-input__container\"\r\n            style={{ border: highlight ? `1px solid ${highlight}` : undefined, ...style }}\r\n        >\r\n            <input\r\n                className=\"ui-input__display\"\r\n                type={type === 'password' ? 'password' : 'text'}\r\n                value={display}\r\n                spellCheck={spellcheck}\r\n                onChange={_onChange}\r\n                onFocus={_onFocus}\r\n                onBlur={_onBlur}\r\n            />\r\n            {children}\r\n        </div>\r\n        {error && !disabled && <p className=\"ui-input__error-text\">{error.message}</p>}\r\n    </div>;\r\n}","import React, { FC, useCallback } from 'react';\r\n\r\nimport { error } from '../../utils/error';\r\nimport { isEmail } from '../../utils/is-email';\r\nimport { InputBase } from '../input-base';\r\nimport { EmailInputProps } from '../input-base/defs';\r\n\r\nexport const InputEmail: FC<EmailInputProps> = ({ value, required, ...props }) => {\r\n\r\n    const validate = useCallback((value: string) => {\r\n        if (required && value === '') {\r\n            return error('@ui/input-required', 'Required');\r\n        } else if (!isEmail(value)) {\r\n            return error('@ui/input-email-invalid', 'Email invalid');\r\n        } else {\r\n            return null;\r\n        }\r\n    }, [required]);\r\n\r\n    return <InputBase display={value} required={required} spellcheck={false} validate={validate} {...props} />;\r\n}","import React, { FC, useCallback } from 'react';\r\n\r\nimport { error } from '../../utils/error';\r\nimport { InputBase } from '../input-base';\r\nimport { TextInputProps } from '../input-base/defs';\r\n\r\nexport const InputText: FC<TextInputProps> = ({ value, required, ...props }) => {\r\n\r\n    const validate = useCallback((value: string) => {\r\n        if (required && value === '') {\r\n            return error('@ui/input-required', 'Required');\r\n        } else {\r\n            return null;\r\n        }\r\n    }, [required]);\r\n\r\n    return <InputBase display={value} required={required} spellcheck={true} validate={validate} {...props} />;\r\n}","import React, { FC, useCallback } from 'react';\r\n\r\nimport { error } from '../../utils/error';\r\nimport { InputBase } from '../input-base';\r\nimport { PasswordInputProps } from '../input-base/defs';\r\n\r\nexport const InputPassword: FC<PasswordInputProps> = ({ value, required, ...props }) => {\r\n\r\n    const validate = useCallback((value: string) => {\r\n        if (required && value === '') {\r\n            return error('@ui/input-required', 'Required');\r\n        } else {\r\n            return null;\r\n        }\r\n    }, [required]);\r\n\r\n    return <InputBase display={value} required={required} spellcheck={false} validate={validate} {...props} />;\r\n}","import React, { FC, useCallback, useState, useEffect } from 'react';\r\nimport { mdiChevronUp, mdiChevronDown } from '@mdi/js';\r\nimport Big from 'big.js';\r\n\r\nimport { error } from '../../utils/error';\r\nimport { Icon } from '../icon';\r\nimport { InputBase } from '../input-base';\r\nimport { NumberInputProps } from '../input-base/defs';\r\n\r\nimport './styles.css';\r\n\r\nexport const InputNumber: FC<NumberInputProps> = ({ value, required, step, precision, units, onChange, onBlur, ...props }) => {\r\n\r\n    const toValue = useCallback((value: string | undefined) => {\r\n        if (value === undefined || value === '') {\r\n            return undefined;\r\n        } else {\r\n            return parseFloat(value);\r\n        }\r\n    }, []);\r\n\r\n    const toPrecision = useCallback((value: number | string | undefined) => {\r\n        if (value === undefined || value === '') {\r\n            return '';\r\n        } else {\r\n            return new Big(value).toFixed(precision);\r\n        }\r\n    }, [precision]);\r\n\r\n    const [display, setDisplay] = useState<string>(toPrecision(value));\r\n\r\n    useEffect(() => setDisplay(toPrecision(value)), [value, toPrecision]);\r\n\r\n    const validate = useCallback((display: string) => {\r\n\r\n        if(!required && display === '') {\r\n            return null;\r\n        }\r\n\r\n        if (required && display === '') {\r\n            return error('@ui/input-required', 'Required');\r\n        }\r\n\r\n        try {\r\n            new Big(display); // big has stricter parsing so use for number validation\r\n        } catch (e) {\r\n            return error('@ui/input-invalid', 'Invalid number');\r\n        }\r\n\r\n        return null;\r\n    }, [required]);\r\n\r\n    const _onBlur = useCallback(() => {\r\n\r\n        try {\r\n            const val = toPrecision(display); // force precision and force valid numbers\r\n            const parsed = toValue(val);\r\n            setDisplay(val);\r\n            onChange(parsed);\r\n        } catch (e) {}\r\n\r\n        if (onBlur) {\r\n            onBlur();\r\n        }\r\n\r\n    }, [onBlur, toPrecision, toValue, display, value]);\r\n\r\n    const onIncrease = useCallback(() => {\r\n\r\n        if (value !== undefined) {\r\n            const val = new Big(value).plus(step).toFixed(precision);\r\n            const parsed = parseFloat(val);\r\n            setDisplay(val);\r\n            onChange(parsed);\r\n        }\r\n\r\n    }, [step, value, display, error, precision, onChange]);\r\n\r\n    const onDecrease = useCallback(() => {\r\n\r\n        if (value !== undefined) {\r\n            const val = new Big(value).minus(step).toFixed(precision);\r\n            const parsed = parseFloat(val);\r\n            setDisplay(val);\r\n            onChange(parsed);\r\n        }\r\n\r\n    }, [step, value, display, error, precision, onChange]);\r\n\r\n    return <InputBase display={display} required={required} spellcheck={false} validate={validate} onBlur={_onBlur} onChange={setDisplay} {...props}>\r\n        {units && <p className=\"ui-input-number__units\">{units}</p>}\r\n        <div className=\"ui-input-number__controls\">\r\n            <Icon path={mdiChevronUp} size={18} color=\"#000000\" onClick={onIncrease} />\r\n            <Icon path={mdiChevronDown} size={18} color=\"#000000\" onClick={onDecrease} />\r\n        </div>\r\n    </InputBase>;\r\n}","import React, { FC } from 'react';\r\n\r\nimport { InputProps } from '../input-base/defs';\r\n\r\nimport { InputEmail } from '../input-email';\r\nimport { InputText } from '../input-text';\r\nimport { InputPassword } from '../input-password';\r\nimport { InputNumber } from '../input-number';\r\n\r\n/**\r\n * Input element with types: 'email' | 'password' | 'text' | 'number'.\r\n */\r\nexport const Input: FC<InputProps> = (props) => {\r\n    switch (props.type) {\r\n        case 'email':\r\n            return <InputEmail {...props} />;\r\n        case 'password':\r\n            return <InputPassword {...props} />;\r\n        case 'number':\r\n            return <InputNumber {...props} />;\r\n        case 'text':\r\n        default:\r\n            return <InputText {...props} />;\r\n    }\r\n}","import React, { FC, CSSProperties } from \"react\";\r\n\r\nimport { merge } from \"../../utils/merge\";\r\n\r\nimport './styles.css';\r\n\r\ninterface Props {\r\n    id?: string;\r\n    className?: string;\r\n    style?: CSSProperties;\r\n\r\n    disabled?: boolean;\r\n\r\n    onClick?: () => void;\r\n}\r\n\r\n/**\r\n * List Item with default hover styles if onClick present.\r\n */\r\nexport const ListItem: FC<Props> = ({ id, className, style, disabled, onClick, children }) => {\r\n    return <div id={id} className={merge(\"ui-list-item\", { 'ui-list-item--hover': !!onClick, 'ui-list-item--disabled': disabled }, className)} style={style} onClick={onClick}>{children}</div>;\r\n}","import React, { FC, Fragment } from \"react\";\r\n\r\ninterface Props {\r\n    value: any;\r\n    displayAs: string;\r\n}\r\n\r\n/** \r\n * Option to be used with Select element.\r\n */\r\nexport const Option: FC<Props> = ({ children }) => {\r\n    return <Fragment>{children}</Fragment>;\r\n}","import React, { CSSProperties, FC } from 'react';\r\n\r\nimport { merge } from '../../utils/merge';\r\nimport { useAlpha } from '../../hooks/use-alpha';\r\n\r\nimport './styles.css';\r\n\r\ninterface Props {\r\n    id?: string;\r\n    className?: string;\r\n    style?: CSSProperties;\r\n\r\n    percent?: number;\r\n    color: string;\r\n    hidden?: boolean;\r\n}\r\n\r\n/**\r\n * Progress component. Can be indeterminate or determinate to show working state or progres.\r\n */\r\nexport const Progress: FC<Props> = ({ id, className, style, color, percent, hidden }) => {\r\n\r\n    const bg = useAlpha(color, .2);;\r\n\r\n    return <div\r\n        id={id}\r\n        className={merge(\r\n            'ui-progress',\r\n            {\r\n                'ui-progress--indeterminate': percent === undefined,\r\n                'ui-progress--hidden': hidden\r\n            },\r\n            className\r\n        )}\r\n        style={{\r\n            backgroundColor: bg,\r\n            ...style\r\n        }}\r\n    >\r\n        <div\r\n            className=\"ui-progress__indicator\"\r\n            style={{\r\n                width: `${percent}%`,\r\n                backgroundColor: color\r\n            }}\r\n        />\r\n    </div>;\r\n}","import React, { FC, CSSProperties } from 'react';\r\n\r\nimport { merge } from \"../../utils/merge\";\r\n\r\nimport './styles.css';\r\n\r\ninterface Props {\r\n    id?: string;\r\n    className?: string;\r\n    style?: CSSProperties;\r\n\r\n    width: number;\r\n}\r\n\r\n/**\r\n * Section component.\r\n */\r\nexport const Section: FC<Props> = ({ id, className, style, width, children }) => {\r\n    return <section\r\n        id={id}\r\n        className={merge('ui-section__container', className)}\r\n        style={style}\r\n    >\r\n        <div className=\"ui-section__content\" style={{ maxWidth: width }}>\r\n            {children}\r\n        </div>\r\n    </section>;\r\n}","import React, { useState, useMemo, CSSProperties, FC, useRef, useEffect } from 'react';\r\nimport { mdiChevronDown } from '@mdi/js';\r\n\r\nimport { merge } from '../../utils/merge';\r\nimport { Icon } from '../icon';\r\nimport { Card } from '../card';\r\nimport { useDelayBoolean } from '../../hooks/use-delay-boolean';\r\n\r\nimport '../input-base/styles.css';\r\nimport './styles.css';\r\n\r\ninterface Props {\r\n    id?: string;\r\n    className?: string;\r\n    style?: CSSProperties;\r\n\r\n    value: any;\r\n    label: string;\r\n    color: string;\r\n    margin?: boolean;\r\n    disabled?: boolean;\r\n    direction?: 'up' | 'down';\r\n\r\n    onChange: (value: any) => void;\r\n}\r\n\r\n/**\r\n * Select component to be used with the Option component.\r\n */\r\nexport const Select: FC<Props> = ({ id, className, style, value, margin, children, label, onChange, color, disabled, direction }) => {\r\n\r\n    const [focus, setFocus] = useState<boolean>(false);\r\n    const element = useRef<HTMLDivElement>(null);\r\n\r\n    const open = useDelayBoolean(focus, 400);\r\n\r\n    const display = useMemo(() => {\r\n        let _display = '';\r\n        React.Children.forEach(children, (child: any) => {\r\n            if (child.props.value === value) {\r\n                _display = child.props.displayAs;\r\n            }\r\n        });\r\n        return _display;\r\n    }, [value, children]);\r\n\r\n    // auto close\r\n    useEffect(() => {\r\n        const cb = (e: any) => {\r\n            if (!element.current || !element.current.contains(e.target)) {\r\n                setFocus(false);\r\n            } else {\r\n                setFocus(o => !o);\r\n            }\r\n        }\r\n        document.addEventListener('click', cb);\r\n        return () => document.removeEventListener('click', cb);\r\n    }, [element]);\r\n\r\n    const highlight = useMemo(() => {\r\n        if (disabled) {\r\n            return undefined;\r\n        }\r\n        if (focus) {\r\n            return color;\r\n        }\r\n        return undefined;\r\n    }, [disabled, focus, color]);\r\n\r\n    return <div\r\n        id={id}\r\n        className={merge('ui-select', 'ui-input', { 'ui-input--disabled': disabled, 'ui-input--margin': margin }, className)}\r\n        style={style}\r\n        ref={element}\r\n    >\r\n\r\n        {label && <p style={{ color: focus ? color : undefined }} className=\"ui-input__label ui-input__label--float\">{label}*</p>}\r\n\r\n        <div\r\n            className=\"ui-select__container ui-input__container\"\r\n            style={{ border: highlight ? `1px solid ${highlight}` : undefined, ...style }}\r\n        >\r\n            <p className=\"ui-input__display\">{display}</p>\r\n            <Icon className=\"ui-select__icon\" style={{ transform: focus ? 'rotateZ(180deg)' : undefined }} size={24} color=\"#777777\" path={mdiChevronDown} />\r\n        </div>\r\n\r\n        <Card className={merge(\"ui-select__card\", { 'ui-select__card--open': focus, 'ui-select__card--up': direction === 'up' })}>\r\n            {\r\n                open && React.Children.map(children, (child: any) => {\r\n                    return <div\r\n                        key={child.props.value}\r\n                        className=\"ui-select__item\"\r\n                        onClick={() => {\r\n                            onChange(child.props.value);\r\n                        }}\r\n                    >\r\n                        {child}\r\n                    </div>;\r\n                })\r\n            }\r\n        </Card>\r\n\r\n    </div>;\r\n}","import React, { FC, CSSProperties } from \"react\";\r\n\r\nimport { merge } from \"../../utils/merge\";\r\n\r\nimport './styles.css';\r\n\r\ninterface Props {\r\n    id?: string;\r\n    className?: string;\r\n    style?: CSSProperties;\r\n}\r\n\r\n/**\r\n * Google tasks style subheader component. Small, bold and capitalized.\r\n */\r\nexport const Subheader: FC<Props> = ({ id, className, style, children }) => {\r\n    return <p id={id} className={merge(\"ui-subheader\", className)} style={style}>{children}</p>;\r\n};","import React, { CSSProperties, FC } from 'react';\r\n\r\nimport {merge} from '../../utils/merge';\r\nimport {useAlpha} from '../../hooks/use-alpha';\r\n\r\nimport './styles.css';\r\n\r\ninterface Props {\r\n    id?: string;\r\n    className?: string;\r\n    style?: CSSProperties;\r\n\r\n    value: boolean;\r\n    disabled?: boolean;\r\n    color: string;\r\n\r\n    onChange?: (val: boolean) => void;\r\n}\r\n\r\n/**\r\n * Switch component.\r\n */\r\nexport const Switch: FC<Props> = ({ id, className, style, value, disabled, color, onChange }) => {\r\n\r\n    const bg = useAlpha(color, .4);\r\n\r\n    return <div\r\n        id={id}\r\n        className={merge('ui-switch', { 'ui-switch--active': value, 'ui-switch--disabled': disabled }, className)}\r\n        style={style}\r\n        onClick={() => onChange && onChange(!value)}\r\n    >\r\n        <div className=\"ui-switch__track\" style={{ backgroundColor: value ? bg : undefined }} />\r\n        <div className=\"ui-switch__button\" style={{ backgroundColor: value ? color : undefined, left: value ? 19 : undefined }} />\r\n    </div>;\r\n}","import React, { FC, Fragment } from 'react';\r\n\r\ninterface Props {\r\n  value: any;\r\n}\r\n\r\n/**\r\n * Tab component to be used inside the Tabs component;\r\n */\r\nexport const Tab: FC<Props> = ({ children }) => {\r\n  return <Fragment>{ children }</Fragment>;\r\n}","import React, { FC, useCallback, useEffect, useRef } from 'react';\r\n\r\nimport './styles.css';\r\n\r\ninterface Props {\r\n    value: any;\r\n    selected: boolean;\r\n    highlight: string;\r\n    color: string;\r\n    onChange: (value: any) => void;\r\n    setBar: (value: { left: number, width: number }) => void;\r\n}\r\n\r\n/**\r\n * Tab component to be used inside the Tabs component;\r\n */\r\nexport const Tab: FC<Props> = ({ children, value, selected, highlight, color, onChange, setBar }) => {\r\n\r\n    const ref = useRef<HTMLDivElement>(null);\r\n\r\n    const _onClick = useCallback(() => {\r\n        if (onChange) {\r\n            onChange(value);\r\n        }\r\n    }, [value, onChange]);\r\n\r\n    useEffect(() => {\r\n        if (setBar && selected && ref.current) {\r\n            setBar({ left: ref.current.offsetLeft, width: ref.current.offsetWidth });\r\n        }\r\n    }, [selected, setBar]);\r\n\r\n    return <div\r\n        ref={ref}\r\n        className=\"ui-tab\"\r\n        style={{\r\n            color: selected ? highlight : color,\r\n            transition: selected ? 'color .2s .1s' : 'color .2s'\r\n        }}\r\n        onClick={_onClick}\r\n    >{children}</div>;\r\n}","import React, { FC, Children, useState } from 'react';\r\n\r\nimport { merge } from '../../utils/merge';\r\nimport { Tab } from './tab';\r\n\r\nimport './styles.css';\r\n\r\ninterface Props {\r\n    value: any;\r\n    onChange: (value: any) => void;\r\n\r\n    color: string;\r\n    highlight: string;\r\n    className?: string;\r\n}\r\n\r\n/**\r\n * Tabs component used with the Tab ccomponent.\r\n */\r\nexport const Tabs: FC<Props> = ({ children, value, onChange, color, highlight, className }) => {\r\n\r\n    const [bar, setBar] = useState({ left: 0, width: 90 });\r\n\r\n    return <div className={merge(\"ui-tabs\", className)}>\r\n        {Children.map(children, (child: any) => {\r\n            return <Tab\r\n                value={child.props.value}\r\n                selected={value === child.props.value}\r\n                color={color}\r\n                highlight={highlight}\r\n                onChange={onChange}\r\n                setBar={setBar}\r\n            >{child}</Tab>;\r\n        })}\r\n        <div className=\"ui-tabs__bar\" style={{ backgroundColor: highlight, ...bar }} />\r\n    </div>;\r\n}","import React, { CSSProperties, FC, useState, useMemo, useCallback } from 'react';\r\n\r\nimport { merge } from '../../utils/merge';\r\n\r\nimport '../input-base/styles.css';\r\nimport './styles.css';\r\n\r\ninterface Props {\r\n    id?: string;\r\n    className?: string;\r\n    style?: CSSProperties;\r\n    color: string;\r\n\r\n    value: any;\r\n    label?: string;\r\n    required?: boolean;\r\n    disabled?: boolean;\r\n    spellcheck?: boolean\r\n\r\n    onChange: (value: any) => void;\r\n}\r\n\r\n/**\r\n * Auto expanding textarea component.\r\n */\r\nexport const Textarea: FC<Props> = ({ id, className, style, value, label, required, color, disabled, spellcheck, onChange }) => {\r\n\r\n    const validate = useCallback((value: string) => {\r\n        if (required && value === '') {\r\n            return 'Required';\r\n        } else {\r\n            return null;\r\n        }\r\n    }, [required]);\r\n\r\n    const [focus, setFocus] = useState<boolean>(false);\r\n    const [touched, setTouched] = useState(false);\r\n    const error = touched ? validate(value) : null;\r\n    const hasValue = value !== undefined && value !== null && value !== '';\r\n\r\n    const highlight = useMemo(() => {\r\n        if (error) {\r\n            return '#ff6347'\r\n        };\r\n        if (focus) {\r\n            return color;\r\n        }\r\n        return undefined;\r\n    }, [error, focus, color])\r\n\r\n    return <div\r\n        id={id}\r\n        className={merge('ui-textarea', 'ui-input', { 'ui-input--disabled': disabled }, className)}\r\n    >\r\n        {label && <p style={{ color: highlight }} className={merge(\"ui-input__label\", { 'ui-input__label--float': focus || hasValue })}>{label}{required && '*'}</p>}\r\n        <div\r\n            className=\"ui-input__container ui-textarea__container\"\r\n            style={{ border: highlight ? `1px solid ${highlight}` : undefined, ...style }}\r\n        >\r\n            <textarea\r\n                className=\"ui-input__display ui-textarea__display\"\r\n                value={value}\r\n                spellCheck={spellcheck}\r\n                onChange={e => onChange(e.target.value)}\r\n                onFocus={() => setFocus(true)}\r\n                onBlur={() => {\r\n                    setFocus(false);\r\n                    setTouched(true);\r\n                }}\r\n            />\r\n            <div className=\"ui-input__display ui-textarea__slave\">{value}{'\\n'}</div>\r\n        </div>\r\n        {error && <p className=\"ui-input__error-text\">{error}</p>}\r\n    </div>;\r\n}","import React, { FC, useState, useEffect, useCallback } from 'react';\r\n\r\nimport { merge } from '../../utils/merge';\r\nimport { Button } from '../button';\r\nimport { ToastInstance } from './defs';\r\n\r\nimport './styles.css';\r\n\r\ninterface Props {\r\n    color: string;\r\n    toast: ToastInstance;\r\n    onDestroy: (key: string) => void;\r\n}\r\n\r\n/**\r\n * Internal component used by the Toast component.\r\n */\r\nexport const ToastEntry: FC<Props> = ({ color, toast, onDestroy }) => {\r\n\r\n    const [hidden, setHidden] = useState(false);\r\n    const [selfCombustTimeout, setSelfCombustTimeout] = useState<any>();\r\n\r\n    useEffect(() => {\r\n        setHidden(false);\r\n        const timeout = setTimeout(() => {\r\n            if (toast.onTimeout) {\r\n                toast.onTimeout();\r\n            }\r\n            setHidden(true);\r\n            setTimeout(() => onDestroy(toast.key), 500);\r\n        }, toast.duration);\r\n        setSelfCombustTimeout(timeout);\r\n    }, [toast, onDestroy]);\r\n\r\n    const onClick = useCallback(() => {\r\n        clearTimeout(selfCombustTimeout);\r\n        if (toast.onClick) {\r\n            toast.onClick();\r\n        }\r\n        setHidden(true);\r\n        setTimeout(() => onDestroy(toast.key), 500);\r\n    }, [toast, selfCombustTimeout, onDestroy]);\r\n\r\n    return <div key={toast.key} className={merge('ui-toast', { 'ui-toast--hide': hidden })}>\r\n        <span className=\"ui-toast__text\">{toast.text}</span>\r\n        {toast.onClick && <Button className=\"ui-toast__button\" compact color={color} outline onClick={onClick}>{toast.button || 'Cancel'}</Button>}\r\n    </div>;\r\n}","import React, { FC, Fragment } from 'react';\r\nimport shortid from \"shortid\";\r\n\r\nimport { ToastInstance, ToastConfig } from './defs';\r\nimport { ToastEntry } from './toast-entry';\r\n\r\ninterface Props {\r\n    color: string;\r\n    toasts: ToastInstance[];\r\n    onDestroy: (key: string) => void;\r\n}\r\n\r\nexport const Toast: FC<Props> = ({ color, toasts, onDestroy }) => {\r\n    return <Fragment>\r\n        {toasts.map(toast => {\r\n            return <ToastEntry key={toast.key} color={color} toast={toast} onDestroy={onDestroy} />;\r\n        })}\r\n    </Fragment>;\r\n}\r\n\r\nexport function createToastInstance({ text, button, duration = 4000, onClick, onTimeout }: ToastConfig): ToastInstance {\r\n    return {\r\n        key: shortid(),\r\n        text,\r\n        button,\r\n        duration,\r\n        onClick,\r\n        onTimeout\r\n    }\r\n}","import React, { FC, CSSProperties } from 'react';\r\n\r\nimport { merge } from '../../utils/merge';\r\n\r\nimport './styles.css';\r\n\r\ninterface Props {\r\n    id?: string;\r\n    className?: string;\r\n    style?: CSSProperties;\r\n\r\n    type: 'swipeUp' | 'fadeIn';\r\n}\r\n\r\n/**\r\n * Basic animation in for elements.\r\n */\r\nexport const Transition: FC<Props> = ({ id, className, style, type, children }) => {\r\n    return <div\r\n        id={id}\r\n        className={merge('ui-transition', className, { 'ui-transition--swipe-up': type === 'swipeUp', 'ui-transition--fade-in': type === 'fadeIn' })}\r\n        style={style}\r\n    >\r\n        {children}\r\n    </div>;\r\n}","import { useEffect } from 'react';\r\n\r\n/**\r\n * Hook: injects dynamic css into the DOM.\r\n */\r\nexport function useStyles(...args: string[]) {\r\n\r\n    useEffect(() => {\r\n        const style = document.createElement(\"style\");\r\n        style.appendChild(document.createTextNode(\"\"));\r\n        document.head.appendChild(style);\r\n\r\n        const sheet: any = style.sheet;\r\n        args.forEach(css => {\r\n            sheet.insertRule(css);\r\n        });\r\n\r\n        return () => {\r\n            style.remove();\r\n        }\r\n    }, [args]);\r\n\r\n}","import React, { useMemo } from 'react';\r\n\r\nimport { Converter } from 'showdown';\r\nimport showdownHighlight from \"showdown-highlight\";\r\n\r\nimport { useAlpha } from '../../hooks/use-alpha';\r\nimport { useStyles } from '../../hooks/use-styles';\r\nimport { merge } from '../../utils/merge';\r\n\r\nimport './styles.css';\r\n\r\ninterface Props {\r\n    className: string;\r\n    markdown: string;\r\n    theme: string;\r\n}\r\n\r\nexport const MarkdownContent: React.FC<Props> = ({ className, markdown, theme }) => {\r\n\r\n    const faded = useAlpha(theme, .1);\r\n\r\n    useStyles(`.markdown-content blockquote { border-left: 4px solid ${theme}; background-color: ${faded}; }`);\r\n    useStyles(`.markdown-content a { color: ${theme}; }`);\r\n    useStyles(`.markdown-content blockquote > p { color: ${theme}; }`);\r\n\r\n    const html = useMemo(() => {\r\n        const converter = new Converter({ extensions: [showdownHighlight], openLinksInNewWindow: true });\r\n        return {\r\n            __html: converter.makeHtml(markdown)\r\n        };\r\n    }, [markdown]);\r\n\r\n    return <div className={merge(\"markdown-content\", className)} dangerouslySetInnerHTML={html} />;\r\n}\r\n","import { useState, useEffect } from 'react';\r\nimport isString from 'lodash.isstring';\r\nimport isObject from 'lodash.isobject';\r\nimport isNumber from 'lodash.isnumber';\r\nimport isBoolean from 'lodash.isboolean';\r\n\r\nconst styles = `\r\n    body {\r\n        margin: 20px;\r\n        font-family: monospace;\r\n    }\r\n    .prop {\r\n        position: relative;\r\n        margin-left: 20px;\r\n        pointer-events: none;\r\n    }\r\n    .prop__caret {\r\n        position: absolute;\r\n        top: 4px;\r\n        left: -12px;\r\n        cursor: pointer;\r\n        pointer-events: all;\r\n    }\r\n    .prop > .prop {\r\n        display: none;\r\n    }\r\n    .prop > .prop__placeholder {\r\n        display: inline-block;\r\n        cursor: pointer;\r\n        pointer-events: all;\r\n    }\r\n    .prop > .prop__caret--right {\r\n        display: block;\r\n    }\r\n    .prop > .prop__caret--down {\r\n        display: none;\r\n    }\r\n    .prop__expand > .prop {\r\n        display: block !important;\r\n    }\r\n    .prop__expand > .prop__placeholder {\r\n        display: none !important;\r\n    }\r\n    .prop__expand > .prop__caret--right {\r\n        display: none;\r\n    }\r\n    .prop__expand > .prop__caret--down {\r\n        display: block;\r\n    }\r\n    .prop__key {\r\n        color: purple;\r\n    }\r\n    .prop__value--undefined,\r\n    .prop__value--null {\r\n        color: green;\r\n    }\r\n    .prop__value--string {\r\n        color: red;\r\n    }\r\n    .prop__value--number,\r\n    .prop__value--boolean {\r\n        color: blue;\r\n    }\r\n`;\r\n\r\nconst right = '<svg class=\"prop__caret prop__caret--right\" xmlns=\"http://www.w3.org/2000/svg\" width=\"8\" height=\"8\" viewBox=\"0 0 24 24\"><path fill=\"grey\" d=\"M21 12l-18 12v-24z\"/></svg>';\r\nconst down = '<svg class=\"prop__caret prop__caret--down\" xmlns=\"http://www.w3.org/2000/svg\" width=\"8\" height=\"8\" viewBox=\"0 0 24 24\"><path fill=\"grey\" d=\"M12 21l-12-18h24z\"/></svg>';\r\n\r\nfunction parse(win: any, key: string, val: any, path: string) {\r\n\r\n    if (val === undefined) {\r\n        return `<div class=\"prop\"><span class=\"prop__key\">${key}</span><span>:</span> <span class=\"prop__value\">\"<span class=\"prop__value--undefined\">undefined</span>\"</span></div>`\r\n    }\r\n\r\n    if (val === null) {\r\n        return `<div class=\"prop\"><span class=\"prop__key\">${key}</span><span>:</span> <span class=\"prop__value\">\"<span class=\"prop__value--null\">null</span>\"</span></div>`\r\n    }\r\n\r\n    if (isString(val)) {\r\n        return `<div class=\"prop\"><span class=\"prop__key\">${key}</span><span>:</span> <span class=\"prop__value\">\"<span class=\"prop__value--string\">${val}</span>\"</span></div>`\r\n    }\r\n\r\n    if (isNumber(val)) {\r\n        return `<div class=\"prop\"><span class=\"prop__key\">${key}</span><span>:</span> <span class=\"prop__value prop__value--number\">${val}</span></div>`\r\n    }\r\n\r\n    if (isBoolean(val)) {\r\n        return `<div class=\"prop\"><span class=\"prop__key\">${key}</span><span>:</span> <span class=\"prop__value prop__value--boolean\">${val}</span></div>`\r\n    }\r\n\r\n    if (Array.isArray(val)) {\r\n        const props: string[] = val.map((_key: string, i: number) => {\r\n            return parse(win, `${i}`, _key, path + key);\r\n        });\r\n        const html = props.join('');\r\n        return `<div class=\"prop ${win.__expanded[path + key] ? 'prop__expand' : ''}\" onclick=\"this.classList.toggle('prop__expand'); window.__expanded['${path + key}'] = this.classList.contains('prop__expand'); event.stopPropagation();\">${right}${down}<span class=\"prop__key\">${key}</span><span>:</span> <span>[</span>${html}${html !== '' ? '<span class=\"prop__placeholder\">...</span>' : ''}<span>]</span></div>`\r\n    }\r\n\r\n    if (isObject(val)) {\r\n        const _val: any = val;\r\n        const keys = Object.keys(_val);\r\n        const props: string[] = keys.map(_key => {\r\n            return parse(win, _key, _val[_key], path + key);\r\n        });\r\n        const html = props.join('');\r\n        return `<div class=\"prop ${win.__expanded[path + key] ? 'prop__expand' : ''}\" onclick=\"this.classList.toggle('prop__expand'); window.__expanded['${path + key}'] = this.classList.contains('prop__expand'); event.stopPropagation();\">${right}${down}<span class=\"prop__key\">${key}</span><span>:</span> ${html === '' ? '{}' : html}${html !== '' ? `<span class=\"prop__placeholder\">{...}</span>` : ''}</div>`\r\n    }\r\n\r\n    return '';\r\n}\r\n\r\n/**\r\n * Hook: Logs state to a seperate window, auto updating with the most current values.\r\n */\r\nexport function useLog(obj: any, rootName: string) {\r\n\r\n    const [win, setWin] = useState<Window | null>(null);\r\n\r\n    // init\r\n    useEffect(() => {\r\n        const view = window.open('', '@ui/debug', 'menubar=no,toolbar=no,location=no,titlebar=no,status=no') as any;\r\n        if (view) {\r\n            if (!view.__expanded) {\r\n                view.__expanded = {};\r\n            }\r\n            const style = view.document.createElement('style');\r\n            style.innerHTML = styles;\r\n            view.document.head.appendChild(style);\r\n            setWin(view);\r\n        }\r\n    }, []);\r\n\r\n    // render updates\r\n    useEffect(() => {\r\n        if (win) {\r\n            win.document.body.innerHTML = parse(win, rootName, obj, '');\r\n        }\r\n    }, [win, obj, rootName]);\r\n}","import { useMemo } from \"react\";\r\n\r\n/**\r\n * Super simple pluralizer convenience method. \r\n */\r\nexport function usePluralize(num: number, single: string, plural: string) {\r\n    return useMemo(() => {\r\n        return num === 1 ? single : plural;\r\n    }, [num, single, plural]);\r\n}","import { useMemo } from \"react\";\r\n/**\r\n * Hook: Generates a array of colors of length 'count'. Minimum number of colors is 7.\r\n */\r\nexport function useRainbow(count: number) {\r\n    return useMemo(() => {\r\n\r\n        const len = count > 7 ? count : 7;\r\n\r\n        const offset = 206;\r\n        const width = 359 - 100;\r\n        const step = Math.floor(width / len);\r\n\r\n        return Array(len).fill('').map((_entry, i) => {\r\n            const base = (step * i) + offset;\r\n            const color = `hsl(${base > 359 ? base - 359 : base}, 100%, 35%)`;\r\n            return color;\r\n        });\r\n\r\n    }, [count]);\r\n}","import { useEffect, useState } from \"react\";\r\n\r\n/**\r\n * Hook: listener for scroll event - returns Y scroll offset.\r\n */\r\nexport function useScrollListener() {\r\n\r\n    const [y, setY] = useState(0.0);\r\n    useEffect(() => {\r\n        const cb = () => {\r\n            setY(window.scrollY);\r\n        }\r\n\r\n        window.addEventListener('scroll', cb, { passive: true });\r\n        return () => {\r\n            window.removeEventListener('scroll', cb);\r\n        }\r\n    });\r\n\r\n    return y;\r\n\r\n}","import { useEffect } from \"react\";\r\n\r\n/**\r\n * Hook: Set the browser theme dynamically;\r\n */\r\nexport function useTheme(color: string) {\r\n    useEffect(() => {\r\n        const metaThemeColor = document.querySelector(\"meta[name=theme-color]\");\r\n        if (metaThemeColor) {\r\n            metaThemeColor.setAttribute(\"content\", color);\r\n        } else {\r\n            const el = document.createElement('meta');\r\n            el.setAttribute('name', 'theme-color');\r\n            el.setAttribute('content', color);\r\n        }\r\n    }, [color]);\r\n}","import { useEffect, useState } from \"react\";\r\n/**\r\n * Hook: Listens for window resize and returns width and height;\r\n */\r\nexport function useWindowResizeListener() {\r\n\r\n    const [width, setWidth] = useState(window.innerWidth);\r\n    const [height, setHeight] = useState(window.innerHeight);\r\n\r\n    useEffect(() => {\r\n        const cb = () => {\r\n            setWidth(window.innerWidth);\r\n            setHeight(window.innerHeight);\r\n        }\r\n\r\n        window.addEventListener('resize', cb, { passive: true });\r\n        return () => {\r\n            window.removeEventListener('resize', cb);\r\n        }\r\n    });\r\n\r\n    return { width, height };\r\n\r\n}","import { fileAccepted } from \"../file-accepted\";\r\n\r\n/**\r\n * A utility function that opens the system file picker and returs the selected files\r\n * inside a promise.\r\n */\r\nexport function chooseFiles(config?: { accept?: string[], multiple?: boolean }) {\r\n\r\n    const input = document.createElement('input');\r\n    input.type = 'file';\r\n    input.style.position = 'fixed';\r\n    input.style.visibility = 'hidden';\r\n    input.style.left = '-100000px';\r\n    input.style.top = '-100000px';\r\n\r\n    if (config) {\r\n        if (config.accept) {\r\n            input.accept = config.accept.join(',');\r\n        }\r\n        if (config.multiple) {\r\n            input.multiple = config.multiple;\r\n        }\r\n    }\r\n\r\n    document.body.appendChild(input);\r\n\r\n    return new Promise<{ files: File[], discarded: number }>((resolve, _reject) => {\r\n\r\n        let timeout: any;\r\n\r\n        const focus = () => {\r\n            timeout = setTimeout(change, 500);\r\n        };\r\n\r\n        const change = () => {\r\n            clearTimeout(timeout);\r\n            window.removeEventListener('focus', focus);\r\n            input.removeEventListener('change', change);\r\n            const files = input.files ? Array.from(input.files) : [];\r\n            const filtered = files.filter(file => fileAccepted(file, config && config.accept));\r\n            resolve({ files: filtered, discarded: files.length - filtered.length });\r\n            input.remove();\r\n        }\r\n\r\n        // slightly shit, the change event always fires slightly after the focus event\r\n        // input.files not updated until change fired so we have to wait after focus event\r\n        // to see if it's a file select or actual just a cancel\r\n        window.addEventListener('focus', focus);\r\n        input.addEventListener('change', change);\r\n\r\n        input.click();\r\n\r\n    });\r\n}","/**\r\n * Generate a Promise that will be resolved after specified duration.\r\n */\r\nexport async function wait(duration = 1000) {\r\n    return new Promise(resolve => {\r\n        setTimeout(resolve, duration);\r\n    });\r\n}"],"names":["merge","args","out","reduce","arr","arg","isString","clean","split","filter","val","isObject","keys","Object","key","join","Appbar","id","className","style","shadow","children","React","colors","useForeground","color","useMemo","Color","isDark","Avatar","src","name","size","letter","slice","toUpperCase","background","foreground","useState","isImageValid","setIsImageValid","useEffect","checkImageExists","fetch","mode","didCancel","height","width","fontSize","backgroundColor","backgroundImage","undefined","Backdrop","open","transparent","onClick","useDelayBoolean","master","delay","slave","setSlave","timeout","setTimeout","clearTimeout","Portal","container","setContainer","$container","document","createElement","body","appendChild","remove","ReactDOM","createPortal","BottomSheet","onClose","render","maxWidth","maxHeight","overflow","transform","Spinner","percent","r","c","Big","Math","PI","_value","div","times","minus","toFixed","dashoffset","dasharray","animate","viewBox","cx","cy","stroke","strokeDasharray","strokeDashoffset","Button","compact","outline","disabled","working","bg","fg","border","Card","margin","useAlpha","alpha","string","Icon","path","highlight","toggle","toggledFG","d","fill","Checkbox","value","onChange","onCheckboxChange","useCallback","marginRight","borderColor","mdiCheck","Content","Dialog","Divider","Drawer","stepsMatch","acceptStep","typeStep","pathsMatch","acceptPath","typePath","i","length","match","fileAccepted","file","accept","type","DropFiles","onDrop","over","setOver","handleDrop","e","dataTransfer","files","Array","from","filtered","dragover","preventDefault","drop","dragenter","relatedTarget","dragleave","window","addEventListener","passive","removeEventListener","mdiFileUploadOutline","Fab","hidden","text","Form","onSubmit","error","code","message","isEmail","email","regex","test","InputBase","display","label","required","spellcheck","validate","onBlur","onFocus","focus","setFocus","touched","setTouched","hasValue","_onChange","target","_onFocus","_onBlur","spellCheck","InputEmail","props","InputText","InputPassword","InputNumber","step","precision","units","toValue","parseFloat","toPrecision","setDisplay","parsed","onIncrease","plus","onDecrease","mdiChevronUp","mdiChevronDown","Input","ListItem","Option","Fragment","Progress","Section","Select","direction","element","useRef","_display","Children","forEach","child","displayAs","cb","current","contains","o","ref","map","Subheader","Switch","left","Tab","selected","setBar","_onClick","offsetLeft","offsetWidth","transition","Tabs","bar","Textarea","ToastEntry","toast","onDestroy","setHidden","selfCombustTimeout","setSelfCombustTimeout","onTimeout","duration","button","Toast","toasts","Transition","useStyles","createTextNode","head","sheet","css","insertRule","MarkdownContent","markdown","theme","faded","html","converter","Converter","extensions","showdownHighlight","openLinksInNewWindow","__html","makeHtml","dangerouslySetInnerHTML","styles","right","down","parse","win","isNumber","isBoolean","isArray","_key","__expanded","_val","useLog","obj","rootName","setWin","view","innerHTML","usePluralize","num","single","plural","useRainbow","count","len","offset","floor","_entry","base","useScrollListener","y","setY","scrollY","useTheme","metaThemeColor","querySelector","setAttribute","el","useWindowResizeListener","innerWidth","setWidth","innerHeight","setHeight","chooseFiles","config","input","position","visibility","top","multiple","Promise","resolve","_reject","change","discarded","click","wait"],"mappings":"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"}